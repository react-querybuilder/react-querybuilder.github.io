(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[897,47600],{31815:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>ye});var t=n(62540),o=n(63696),a=n(3348),l=n(49519),s=n(95605),i=n(33280),u=n(18597),d=n(29717),c=n(23009),p=n(11750),m=n(73674),b=n(49852),h=n(81943),g=n(10484),y=n(42906),f=n(30840),v=n(22446),j=n(89584),x=n(28128),O=n(45669),w=n(66050),S=n(65173);const C={demoLayout:"demoLayout_QhYR",demoSidebarHeader:"demoSidebarHeader_WVGK",demoOption:"demoOption_DiUA",demoOptionCommands:"demoOptionCommands_K7rK",demoImportCommands:"demoImportCommands_fM9N",exportOptions:"exportOptions_WUCH",wsPreWrap:"wsPreWrap_DXzD"};var k=n(64871),D=n(83732),q=n.n(D);const N=e=>({overlay:{backgroundColor:e?"rgba(0 0 0 / 75%)":"rgba(255 255 255 / 75%)",display:"flex",alignContent:"flex-start",justifyContent:"center",alignItems:"flex-start",paddingTop:"calc(var(--ifm-navbar-height) + var(--ifm-global-spacing))"},content:{inset:"unset",padding:"var(--ifm-global-spacing)",maxWidth:"800px",display:"flex",flexDirection:"column",gap:"var(--ifm-global-spacing)",boxShadow:"4px 4px 12px 4px rgb(0 0 0 / 26%)",backgroundColor:e?"var(--ifm-background-color)":"#ffffff"}}),B=document.body,E=(0,t.jsx)("div",{children:w.O.map(((e,r)=>(0,t.jsxs)(o.Fragment,{children:[r>0?", ":"",(0,t.jsx)("code",{children:e.name},e.name)]},r)))});function A({heading:e,isOpen:r,setIsOpen:n,code:o,setCode:a,error:l,loadQueryFromCode:s,notes:i}){const{colorMode:u}=(0,k.G)();return(0,t.jsxs)(q(),{appElement:B,contentLabel:e,isOpen:r,onRequestClose:()=>n(!1),style:N("dark"===u),children:[(0,t.jsxs)("h3",{style:{margin:"unset"},children:[e,(0,t.jsx)("span",{style:{cursor:"pointer",float:"right"},onClick:()=>n(!1),children:"\u2715"})]}),(0,t.jsx)("textarea",{style:{height:160,minWidth:690,width:"100%"},spellCheck:!1,value:o,onChange:e=>a(e.target.value)}),i&&(0,t.jsx)("p",{style:{fontSize:"smaller",margin:"unset"},children:i}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--ifm-global-spacing)"},children:[(0,t.jsx)("button",{type:"button",onClick:()=>s(),children:e}),(0,t.jsx)("button",{type:"button",onClick:()=>n(!1),children:"Cancel"})]}),!!l&&(0,t.jsx)("pre",{children:l}),(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{style:{cursor:"pointer"},children:"Available fields"}),E]})]})}function I(){return(0,t.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Open a live example in CodeSandbox"}),(0,t.jsx)("path",{d:"M1.5 6l10.455-6L22.41 6l.09 11.95L11.955 24 1.5 18zm2.088 2.481v4.757l3.345 1.86v3.516l3.972 2.296v-8.272zm16.739 0l-7.317 4.157v8.272l3.972-2.296V15.1l3.345-1.861V8.48zM4.634 6.601l7.303 4.144 7.32-4.18-3.871-2.197-3.41 1.945-3.43-1.968L4.633 6.6z"})]})}function M(){return(0,t.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Open a live example in StackBlitz"}),(0,t.jsx)("path",{d:"M10.797 14.182H3.635L16.728 0l-3.525 9.818h7.162L7.272 24l3.524-9.818Z"})]})}const Q={demoNav:"demoNav_zlnx",demoNavPackageLinks:"demoNavPackageLinks_wCVv",demoNavStyleLinks:"demoNavStyleLinks_fSsZ",demoNavPackageLink:"demoNavPackageLink_vuDC"},P=({variant:e,compressedState:r,siteLocation:n})=>`${n.pathname.replace(RegExp(`\\/(${O.w6.join("|")})$`),"")}${"default"===e?"":`/${e}`}${r?`#s=${r}`:""}`,T=e=>{location.href=e};function F({variant:e,compressedState:r}){const n=(0,o.useId)(),a=(0,l.zy)(),s=(0,o.useCallback)((e=>{T(P({variant:e.target.value,compressedState:r,siteLocation:a}))}),[r,a]);return(0,t.jsxs)("div",{className:Q.demoNav,children:[(0,t.jsxs)("div",{className:Q.demoNavPackageLinks,children:[(0,t.jsx)("a",{href:`https://githubbox.com/react-querybuilder/react-querybuilder/tree/main/examples/${"default"===e?"basic-ts":e}?file=/src/App.tsx`,className:"svg-font-color",target:"_blank",rel:"noreferrer",style:{minWidth:"1rem"},children:(0,t.jsx)(I,{})}),(0,t.jsx)("a",{href:`https://stackblitz.com/github/react-querybuilder/react-querybuilder/tree/main/examples/${"default"===e?"basic-ts":e}?file=src/App.tsx`,className:"svg-font-color",target:"_blank",rel:"noreferrer",style:{minWidth:"1rem"},children:(0,t.jsx)(M,{})}),(0,t.jsx)("a",{href:P({variant:e,compressedState:r,siteLocation:a}),className:Q.smallerAnchor,target:"_blank",rel:"noreferrer",children:"Permalink"})]}),(0,t.jsxs)("div",{className:Q.demoNavStyleLinks,children:[(0,t.jsx)("label",{htmlFor:n,children:"Style library:"}),(0,t.jsx)("select",{name:n,id:n,value:e,onChange:s,children:O.w6.map((e=>(0,t.jsx)("option",{value:e,children:O.pU[e]},e)))})]})]})}function L(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function R(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){L(e,r,n[r])}))}return e}function $(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})),e}function G(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const{version:J}=h,_="\u24d8",z=(0,S.qS)(m.A.parse(location.hash)),W=z.options;var H;const V=null!==(H=z.query)&&void 0!==H?H:O.Cw;var U;const K=null!==(U=z.queryIC)&&void 0!==U?U:O.j$,X=`SELECT *\n  FROM my_table\n WHERE ${(0,b.OJ)(V,"sql")};`,Y=JSON.stringify({firstName:{$regex:"^Stev"},age:{$gt:28}},null,2),Z='firstName matches "^Stev" && age > 28',ee='firstName.startsWith("Stev") && age > 28',re='$contains(firstName, "Stev") and age > 28',ne=JSON.stringify((0,b.OJ)(V,"jsonlogic"),null,2),te="Copy permalink",oe="Copied permalink",ae=(0,t.jsxs)("em",{children:["SQL can either be the full ",(0,t.jsx)("code",{children:"SELECT"})," statement or the ",(0,t.jsx)("code",{children:"WHERE"})," clause by itself. Trailing semicolon is optional."]}),le=(0,t.jsxs)("em",{children:["Input must conform to the ",(0,t.jsx)("a",{href:"https://www.json.org/",children:"JSON specification"}),". MongoDB queries support an extended JSON format, so you may need to pre-parse query strings with a library like"," ",(0,t.jsx)("a",{href:"https://www.npmjs.com/package/mongodb-query-parser",children:(0,t.jsx)("code",{children:"mongodb-query-parser"})}),"before submitting them here or passing them to ",(0,t.jsx)("code",{children:"parseMongoDB"}),"."]}),se="",ie="",ue="",de=(0,t.jsxs)("em",{children:["Only strings that evaluate to JavaScript objects when processed with ",(0,t.jsx)("code",{children:"JSON.parse"})," ","will translate into queries."]}),ce=e=>(0,t.jsx)(t.Fragment,{children:e.children}),pe=({format:e})=>{const r=O.Yl.find((([r])=>r===e));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.A,{href:`/docs/utils/export#${r[3]}`,children:"Documentation"}),(0,t.jsx)(a.A,{href:r[2],children:"Format info"})]})},{label:me,link:be,title:he}=O.Wq.parseNumbers,ge=({checked:e,setter:r,disabled:n})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"\xa0"}),(0,t.jsx)("div",{className:C.demoOption,children:(0,t.jsxs)("label",{title:he,children:[(0,t.jsx)("input",{type:"checkbox",disabled:n,checked:e,onChange:e=>!n&&r(e.target.checked)}),` ${me} `,(0,t.jsx)(a.A,{href:`${be}`,title:"Click for documentation",style:{textDecoration:"none"},children:_})]})})]});function ye({variant:e="default",queryWrapper:r=ce}){const n=(0,l.zy)(),[h,k]=(0,o.useState)(V),[D,q]=(0,o.useState)(K),[N,B]=(0,o.useState)("json_without_ids"),[E,I]=(0,o.useReducer)(S.lJ,R({},O.KQ,W)),[M,Q]=(0,o.useState)(!1),[P,T]=(0,o.useState)(X),[L,z]=(0,o.useState)(""),[H,U]=(0,o.useState)(!1),[me,be]=(0,o.useState)(Y),[he,ye]=(0,o.useState)(""),[fe,ve]=(0,o.useState)(!1),[je,xe]=(0,o.useState)(ne),[Oe,we]=(0,o.useState)(""),[Se,Ce]=(0,o.useState)(!1),[ke,De]=(0,o.useState)(Z),[qe,Ne]=(0,o.useState)(""),[Be,Ee]=(0,o.useState)(!1),[Ae,Ie]=(0,o.useState)(ee),[Me,Qe]=(0,o.useState)(""),[Pe,Te]=(0,o.useState)(re),[Fe,Le]=(0,o.useState)(!1),[Re,$e]=(0,o.useState)(""),[Ge,Je]=(0,o.useState)(te),[_e,ze]=(0,o.useState)("scss"),[We,He]=(0,o.useState)(""),[Ve,Ue]=(0,o.useState)({css:"",scss:""}),[Ke,Xe]=(0,o.useState)(""),[Ye,Ze]=(0,o.useState)(""),er=(0,o.useMemo)((()=>`#${m.A.stringify(E)}`),[E]),rr=(0,o.useCallback)((e=>{var r;const n=(0,S.qS)(m.A.parse(null!==(r=m.A.parseUrl(e.newURL,{parseFragmentIdentifier:!0}).fragmentIdentifier)&&void 0!==r?r:"")),t=R({},O.KQ,n.options);I({type:"replace",payload:t}),n.query&&k(n.query),n.queryIC&&q(n.queryIC)}),[]);(0,o.useEffect)((()=>(history.pushState(null,"",er),window.addEventListener("hashchange",rr),()=>window.removeEventListener("hashchange",rr))),[er,rr]),(0,o.useEffect)((()=>{Promise.all([(0,S.BP)(),S.gv,S.pw]).then((([e,r,n])=>{Ue(e),Xe(r),Ze(n)}))}),[]),(0,o.useEffect)((()=>{(0,S.Fr)(E,e,_e).then((e=>He(e)))}),[E,_e,e]);const nr=(0,o.useMemo)((()=>O.ty.map((e=>$(R({},O.Wq[e]),{name:e,default:O.KQ[e],checked:E[e],setter:r=>I({type:"update",payload:{optionName:e,value:r}})})))),[E]),tr=(0,o.useMemo)((()=>({format:N,fields:E.validateQuery?w.O:void 0,parseNumbers:E.parseNumbers})),[N,E.parseNumbers,E.validateQuery]),or=E.independentCombinators?D:h,ar=(0,o.useMemo)((()=>(0,S.fF)(or,tr)),[tr,or]),lr=(0,o.useCallback)(((e,r=[])=>{let n=()=>B(e);return r.length>0&&(n=()=>{N===e||r.includes(N)||B(e)}),{onMouseUp:n,onKeyUp:e=>{"Enter"===e.key&&n()}}}),[N]),sr=(0,o.useMemo)((()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h4",{children:"Call"}),(0,t.jsx)(i.A,{children:`formatQuery(query, ${E.parseNumbers||"jsonata"===N?`{ format: '${N}', parseNumbers: true }`:`'${N}'`})`}),(0,t.jsx)("h4",{children:"Return"}),(0,t.jsx)(i.A,{language:(0,S.t1)(N),className:C.wsPreWrap,children:ar})]})),[N,ar,E.parseNumbers]),{setter:ir}=(0,o.useMemo)((()=>nr.find((e=>"parseNumbers"===e.name))),[nr]),ur=(0,o.useMemo)((()=>["react-querybuilder",...E.enableDragAndDrop?["@react-querybuilder/dnd",...O.g5.dnd]:[],..."default"===e?[]:[`@react-querybuilder/${e}`,...O.g5[e]]]),[E.enableDragAndDrop,e]),dr=()=>encodeURIComponent((0,S.OA)({query:h,queryIC:D,options:E,style:e})),cr=(0,o.useMemo)((()=>{const{independentCombinators:e}=E,r=G(E,["independentCombinators"]);return $(R({fields:w.O},r),{validator:r.validateQuery?b.KS:void 0})}),[E]),pr=`rqb-${e}`,mr=(0,o.useMemo)((()=>(0,p.$)({validateQuery:E.validateQuery,justifiedLayout:E.justifiedLayout,"queryBuilder-branches":E.showBranches},"default"===e?"":pr)),[E.justifiedLayout,E.showBranches,E.validateQuery,pr,e]);return(0,t.jsxs)("div",{className:C.demoLayout,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:(0,t.jsxs)(a.A,{href:"/docs/components/querybuilder",title:"Boolean props on the QueryBuilder component (click for documentation)",className:C.demoSidebarHeader,children:[(0,t.jsx)("span",{children:"Options"}),(0,t.jsx)("span",{children:_})]})}),(0,t.jsx)("div",{children:nr.filter((e=>"parseNumbers"!==e.name)).map((({checked:e,label:r,link:n,setter:o,title:l})=>(0,t.jsxs)("div",{className:C.demoOption,children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",checked:e,onChange:e=>o(e.target.checked)}),` ${r}`]}),n?(0,t.jsx)(a.A,{href:`${n}`,title:`${l} (click for documentation)`,style:{textDecoration:"none"},children:_}):(0,t.jsx)("span",{title:l,style:{cursor:"pointer"},children:_})]},r)))}),(0,t.jsxs)("div",{className:C.demoOptionCommands,children:[(0,t.jsx)("div",{title:"Reset the options above to their default values",children:(0,t.jsx)("button",{type:"button",onClick:()=>I({type:"reset"}),children:"Reset"})}),(0,t.jsx)("div",{title:`Enable all features except "${O.Wq.disabled.label}" and "${O.Wq.independentCombinators.label}"`,children:(0,t.jsx)("button",{type:"button",onClick:()=>I({type:"all"}),children:"Select all"})}),(0,t.jsx)("div",{title:"Copy a URL that will load this demo with the same query and the options as currently set",children:(0,t.jsx)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(`${location.origin}${n.pathname}#s=${dr()}`),Je(oe)}catch(e){console.error("Clipboard error",e)}setTimeout((()=>Je(te)),1214)},children:Ge})})]}),(0,t.jsx)("h3",{children:(0,t.jsxs)(a.A,{href:"/docs/utils/import",title:"Use the parse* methods to set the query from SQL/JsonLogic/etc. (click for documentation)",className:C.demoSidebarHeader,children:[(0,t.jsx)("span",{children:"Import"}),(0,t.jsx)("span",{children:_})]})}),(0,t.jsxs)("div",{className:C.demoImportCommands,children:[(0,t.jsx)("button",{type:"button",onClick:()=>Q(!0),children:"Import SQL"}),(0,t.jsx)("button",{type:"button",onClick:()=>U(!0),children:"Import MongoDB"}),(0,t.jsx)("button",{type:"button",onClick:()=>ve(!0),children:"Import JsonLogic"}),(0,t.jsx)("button",{type:"button",onClick:()=>Ce(!0),children:"Import SpEL"}),(0,t.jsx)("button",{type:"button",onClick:()=>Ee(!0),children:"Import CEL"}),(0,t.jsx)("button",{type:"button",onClick:()=>Le(!0),children:"Import JSONata"}),(0,t.jsx)("div",{children:(0,t.jsxs)("code",{style:{fontSize:"8pt",marginBottom:"var(--ifm-global-spacing)"},children:["react-querybuilder@",J]})})]})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"var(--ifm-global-spacing)"},children:[(0,t.jsx)(F,{variant:e,compressedState:dr()}),(0,t.jsx)("div",{id:pr,className:mr,children:(0,t.jsx)(r,{children:(0,t.jsx)(s.qy,{children:E.independentCombinators?(0,o.createElement)(b.oS,$(R({},cr),{key:"queryIC",query:D,onQueryChange:q})):(0,o.createElement)(b.oS,$(R({},cr),{key:"query",query:h,onQueryChange:k}))})})}),(0,t.jsxs)(c.A,{defaultValue:"code",values:[{value:"code",label:"Code"},{value:"sql",label:"SQL",attributes:lr("sql",["parameterized","parameterized_named"])},{value:"json",label:"JSON",attributes:lr("json_without_ids",["json"])},{value:"mongodb",label:"MongoDB",attributes:lr("mongodb")},{value:"cel",label:"CEL",attributes:lr("cel")},{value:"spel",label:"SpEL",attributes:lr("spel")},{value:"jsonlogic",label:"JsonLogic",attributes:lr("jsonlogic")},{value:"elasticsearch",label:"ElasticSearch",attributes:lr("elasticsearch")},{value:"jsonata",label:"JSONata",attributes:lr("jsonata")}],children:[(0,t.jsxs)(d.A,{value:"code",label:"Code",children:[(0,t.jsx)(u.A,{summary:(0,t.jsx)("summary",{children:"Dependencies"}),children:(0,t.jsxs)(c.A,{children:[(0,t.jsx)(d.A,{value:"npm",label:"npm",children:(0,t.jsxs)(i.A,{language:"shell",children:["npm install ",ur.join(" ")]})}),(0,t.jsx)(d.A,{value:"bun",label:"Bun",children:(0,t.jsxs)(i.A,{language:"shell",children:["bun add ",ur.join(" ")]})}),(0,t.jsx)(d.A,{value:"yarn",label:"Yarn",children:(0,t.jsxs)(i.A,{language:"shell",children:["yarn add ",ur.join(" ")]})}),(0,t.jsx)(d.A,{value:"pnpm",label:"pnpm",children:(0,t.jsxs)(i.A,{language:"shell",children:["pnpm add ",ur.join(" ")]})})]})}),(0,t.jsx)(i.A,{language:"tsx",title:"App.tsx",children:We}),(0,t.jsxs)(u.A,{summary:(0,t.jsx)("summary",{children:"Styles"}),children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"scss"===_e,onChange:()=>ze("scss")})," ","SCSS"]},"scss"),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"css"===_e,onChange:()=>ze("css")})," ","CSS"]},"css")]}),(0,t.jsx)(i.A,{language:_e,title:`styles.${_e}`,children:Ve[_e]})]}),(0,t.jsxs)(u.A,{summary:(0,t.jsx)("summary",{children:"Other files"}),children:[(0,t.jsx)(i.A,{language:"ts",title:"fields.ts",children:Ke}),(0,t.jsx)(i.A,{language:"ts",title:"musicalInstruments.ts",children:Ye})]})]}),(0,t.jsxs)(d.A,{value:"json",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"json"}),(0,t.jsx)("span",{children:"\xa0"}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"json_without_ids"===N,onChange:()=>B("json_without_ids")})," ","Essential properties only"]},"json_without_ids"),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"json"===N,onChange:()=>B("json")})," ","Full query object"]},"json"),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"sql",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"sql"}),(0,t.jsx)("span",{children:"\xa0"}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"sql"===N,onChange:()=>B("sql")})," ","Inline"]},"sql"),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"parameterized"===N,onChange:()=>B("parameterized")})," ","Parameterized"]},"parameterized"),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"parameterized_named"===N,onChange:()=>B("parameterized_named")})," ","Named parameters"]},"parameterized_named"),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"mongodb",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"mongodb"}),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"cel",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"cel"}),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"spel",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"spel"}),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"jsonlogic",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"jsonlogic"}),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"elasticsearch",children:[(0,t.jsxs)("div",{className:C.exportOptions,children:[(0,t.jsx)(pe,{format:"elasticsearch"}),(0,t.jsx)(ge,{checked:E.parseNumbers,setter:ir})]}),sr]}),(0,t.jsxs)(d.A,{value:"jsonata",children:[(0,t.jsx)("div",{className:C.exportOptions,children:(0,t.jsx)(pe,{format:"jsonata"})}),sr]})]})]}),(0,t.jsx)(A,{heading:"Import SQL",isOpen:M,setIsOpen:Q,code:P,setCode:T,error:L,loadQueryFromCode:()=>{try{const e=(0,x.parseSQL)(P),r=(0,x.parseSQL)(P,{independentCombinators:!0});k(e),q(r),Q(!1),z(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){z(e.message)}},notes:ae}),(0,t.jsx)(A,{heading:"Import MongoDB",isOpen:H,setIsOpen:U,code:me,setCode:be,error:he,loadQueryFromCode:()=>{try{const e=(0,v.parseMongoDB)(me),r=(0,b.vT)(e);k(e),q(r),U(!1),ye(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){ye(e.message)}},notes:le}),(0,t.jsx)(A,{heading:"Import JsonLogic",isOpen:fe,setIsOpen:ve,code:je,setCode:xe,error:Oe,loadQueryFromCode:()=>{try{const e=(0,f.parseJsonLogic)(je),r=(0,b.vT)(e);k(e),q(r),ve(!1),we(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){we(e.message)}},notes:de}),(0,t.jsx)(A,{heading:"Import SpEL",isOpen:Se,setIsOpen:Ce,code:ke,setCode:De,error:qe,loadQueryFromCode:()=>{try{const e=(0,j.parseSpEL)(ke),r=(0,j.parseSpEL)(ke,{independentCombinators:!0});k(e),q(r),Ce(!1),Ne(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){Ne(e.message)}},notes:se}),(0,t.jsx)(A,{heading:"Import CEL",isOpen:Be,setIsOpen:Ee,code:Ae,setCode:Ie,error:Me,loadQueryFromCode:()=>{try{const e=(0,g.parseCEL)(Ae),r=(0,g.parseCEL)(Ae,{independentCombinators:!0});k(e),q(r),Ee(!1),Qe(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){Qe(e.message)}},notes:ie}),(0,t.jsx)(A,{heading:"Import JSONata",isOpen:Fe,setIsOpen:Le,code:Pe,setCode:Te,error:Re,loadQueryFromCode:()=>{try{const e=(0,y.parseJSONata)(Pe),r=(0,y.parseJSONata)(Pe,{independentCombinators:!0});k(e),q(r),Le(!1),$e(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){$e(e.message)}},notes:ue})]})}},66050:(e,r,n)=>{"use strict";n.d(r,{O:()=>l});var t=n(49852),o=n(7439);const a=e=>!!e.value,l=[{name:"firstName",label:"First Name",placeholder:"Enter first name",validator:a},{name:"lastName",label:"Last Name",placeholder:"Enter last name",defaultOperator:"beginsWith",validator:a},{name:"age",label:"Age",inputType:"number",validator:a},{name:"isMusician",label:"Is a musician",valueEditorType:"checkbox",operators:t.lV.filter((e=>"="===e.name)),defaultValue:!1},{name:"instrument",label:"Primary instrument",valueEditorType:"select",values:o.F,defaultValue:"Cowbell",operators:t.lV.filter((e=>"="===e.name))},{name:"alsoPlays",label:"Also plays",valueEditorType:"multiselect",values:o.F,defaultValue:"More cowbell",operators:t.lV.filter((e=>"in"===e.name))},{name:"gender",label:"Gender",operators:t.lV.filter((e=>"="===e.name)),valueEditorType:"radio",values:[{name:"M",label:"Male"},{name:"F",label:"Female"},{name:"O",label:"Other"}]},{name:"height",label:"Height",validator:a},{name:"job",label:"Job",validator:a},{name:"description",label:"Description",valueEditorType:"textarea"},{name:"birthdate",label:"Birth Date",inputType:"date"},{name:"datetime",label:"Show Time",inputType:"datetime-local"},{name:"alarm",label:"Daily Alarm",inputType:"time"},{name:"groupedField1",label:"Grouped Field 1",comparator:"groupNumber",groupNumber:"group1",valueSources:["field","value"]},{name:"groupedField2",label:"Grouped Field 2",comparator:"groupNumber",groupNumber:"group1",valueSources:["field","value"]},{name:"groupedField3",label:"Grouped Field 3",comparator:"groupNumber",groupNumber:"group1",valueSources:["field","value"]},{name:"groupedField4",label:"Grouped Field 4",comparator:"groupNumber",groupNumber:"group1",valueSources:["field","value"]}].map((e=>(0,t.cX)(e)))},45669:(e,r,n)=>{"use strict";n.d(r,{KQ:()=>m,Yl:()=>v,Cw:()=>y,j$:()=>f,ic:()=>b,ty:()=>g,Wq:()=>h,g5:()=>C,w6:()=>w,pU:()=>j});const t=JSON.parse('{"g5":{"@ant-design/icons":">=5","antd":">=5","dayjs":">=1","react":">=18","react-querybuilder":"7.4.1"}}'),o=JSON.parse('{"g5":{"bootstrap":">=5","bootstrap-icons":">=1.7.0","react":">=18","react-querybuilder":"7.4.1"}}'),a=JSON.parse('{"g5":{"bulma":"^0.9.4","react":">=18","react-querybuilder":"7.4.1"}}'),l=JSON.parse('{"g5":{"@chakra-ui/icons":">=2","@chakra-ui/react":">=2","@chakra-ui/system":">=2","@emotion/react":"^11","@emotion/styled":"^11","framer-motion":"^11","react":">=18","react-querybuilder":"7.4.1"}}'),s=JSON.parse('{"g5":{"react":">=18","react-dnd":">=14.0.0","react-dnd-html5-backend":">=14.0.0","react-querybuilder":"7.4.1"}}'),i=JSON.parse('{"g5":{"@fluentui/react-components":"^9","@fluentui/react-icons-mdl2":"^1","dayjs":">=1","react":">=18","react-querybuilder":"7.4.1"}}'),u=JSON.parse('{"g5":{"@mantine/core":">=7","@mantine/dates":">=7","@mantine/hooks":">=7","dayjs":">=1","react":">=18","react-querybuilder":"7.4.1"}}'),d=JSON.parse('{"g5":{"@emotion/react":"^11","@emotion/styled":"^11","@mui/icons-material":">=5","@mui/material":">=5","react":">=18","react-querybuilder":"7.4.1"}}'),c=JSON.parse('{"g5":{"@tremor/react":"^3","dayjs":">=1","react":">=18","react-querybuilder":"7.4.1"}}');var p=n(49852);const m={showCombinatorsBetweenRules:!1,showNotToggle:!1,showCloneButtons:!1,showLockButtons:!1,resetOnFieldChange:!0,resetOnOperatorChange:!1,autoSelectField:!0,autoSelectOperator:!0,addRuleToNewGroups:!1,validateQuery:!1,independentCombinators:!1,listsAsArrays:!1,enableDragAndDrop:!1,disabled:!1,debugMode:!1,parseNumbers:!1,justifiedLayout:!1,showBranches:!1,showShiftActions:!1},b=["showCombinatorsBetweenRules","showNotToggle","showCloneButtons","showLockButtons","showShiftActions","resetOnFieldChange","resetOnOperatorChange","autoSelectField","autoSelectOperator","addRuleToNewGroups","validateQuery","independentCombinators","listsAsArrays","enableDragAndDrop","disabled","debugMode","parseNumbers","justifiedLayout","showBranches"],h={showCombinatorsBetweenRules:{link:"/docs/components/querybuilder#showcombinatorsbetweenrules",label:"Combinators between rules",title:"Display combinator (and/or) selectors between rules instead of in the group header"},showNotToggle:{link:"/docs/components/querybuilder#shownottoggle",label:'Show "not" toggle',title:'Display a checkbox to invert a group\'s rules (labelled "Not" by default)'},showShiftActions:{link:"/docs/components/querybuilder#showshiftactions",label:"Show shift actions",title:"Display buttons to shift rules and groups up or down"},showCloneButtons:{link:"/docs/components/querybuilder#showclonebuttons",label:"Show clone buttons",title:"Display buttons to clone rules and groups"},resetOnFieldChange:{link:"/docs/components/querybuilder#resetonfieldchange",label:"Reset on field change",title:"Operator and value will be reset when a rule's field selection changes"},resetOnOperatorChange:{link:"/docs/components/querybuilder#resetonoperatorchange",label:"Reset on operator change",title:"The value will reset when the operator changes"},autoSelectField:{link:"/docs/components/querybuilder#autoselectfield",label:"Auto-select field",title:"The default field will be automatically selected for new rules"},autoSelectOperator:{link:"/docs/components/querybuilder#autoselectoperator",label:"Auto-select operator",title:"The default operator will be automatically selected for new rules"},addRuleToNewGroups:{link:"/docs/components/querybuilder#addruletonewgroups",label:"Add rule to new groups",title:"A rule will be automatically added to new groups"},validateQuery:{link:"/docs/utils/validation",label:"Use validation",title:'The validator function(s) will be used to bold the "+ Rule" button for empty groups and put a purple background on empty text fields and emtpy groups'},independentCombinators:{link:"/docs/components/querybuilder#independent-combinators",label:"Independent combinators",title:"Combinators between rules can be independently updated"},listsAsArrays:{link:"/docs/components/querybuilder#listsasarrays",label:"Lists as arrays",title:"Lists will be stored as arrays instead of comma-separated strings"},enableDragAndDrop:{link:"/docs/components/querybuilder#enabledraganddrop",label:"Drag-and-drop enabled",title:"Rules and groups can be reordered and dragged to different groups"},disabled:{link:"/docs/components/querybuilder#disabled",label:"Disabled",title:"Disable all components within the query builder"},showLockButtons:{link:"/docs/components/querybuilder#showlockbuttons",label:"Show lock buttons",title:"Display buttons to lock/disable rules and groups"},debugMode:{link:"/docs/components/querybuilder#debugmode",label:"Debug mode",title:"Enable debug logging for QueryBuilder and React DnD (see console)"},parseNumbers:{link:"/docs/utils/export#parse-numbers",label:"Parse numbers",title:"Parse real numbers from strings in rule values"},justifiedLayout:{link:"",label:"Justified layout",title:'Add custom CSS to push the "clone", "lock", and "remove" buttons to the right edge'},showBranches:{link:"/docs/styling/overview#branch-lines",label:"Show branches",title:'Add the `.queryBuilder-branches` class to display "tree view" branches'}},g=b.sort(((e,r)=>h[e].label.localeCompare(h[r].label))),y={id:(0,p.ni)(),combinator:"and",not:!1,rules:[{id:(0,p.ni)(),field:"firstName",value:"Stev",operator:"beginsWith"},{id:(0,p.ni)(),field:"lastName",value:"Vai, Vaughan",operator:"in"},{id:(0,p.ni)(),field:"age",operator:">",value:"28"},{id:(0,p.ni)(),combinator:"or",rules:[{id:(0,p.ni)(),field:"isMusician",operator:"=",value:!0},{id:(0,p.ni)(),field:"instrument",operator:"=",value:"Guitar"}]},{id:(0,p.ni)(),field:"groupedField1",operator:"=",value:"groupedField4",valueSource:"field"},{id:(0,p.ni)(),field:"birthdate",operator:"between",value:"1954-10-03,1960-06-06"}]},f=(0,p.vT)(y),v=[["sql","SQL","https://en.wikipedia.org/wiki/SQL","sql"],["parameterized","SQL (parameterized)","https://en.wikipedia.org/wiki/SQL","parameterized-sql"],["parameterized_named","SQL (named parameters)","https://en.wikipedia.org/wiki/SQL","named-parameters"],["json_without_ids","JSON (no identifiers)","https://en.wikipedia.org/wiki/JSON","json-without-identifiers"],["json","JSON","https://en.wikipedia.org/wiki/JSON","json"],["mongodb","MongoDB","https://www.mongodb.com/","mongodb"],["cel","CEL","https://github.com/google/cel-spec","common-expression-language"],["spel","SpEL","https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-language-ref","spring-expression-language"],["jsonlogic","JsonLogic","https://jsonlogic.com/","jsonlogic"],["jsonata","JSONata","https://jsonata.org/","jsonata"],["elasticsearch","ElasticSearch","https://www.elastic.co/","elasticsearch"]],j={antd:"Ant Design",bootstrap:"Bootstrap",bulma:"Bulma",chakra:"Chakra UI",default:"Default",fluent:"Fluent UI",mantine:"Mantine",material:"MUI/Material",tremor:"Tremor"},{default:x}=j,O=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(j,["default"]),w=["default",...(0,p.uv)(O).sort()],S=e=>"react"!==e&&"react-querybuilder"!==e,C={default:[],dnd:(0,p.uv)(s.g5).filter(S),antd:(0,p.uv)(t.g5).filter(S),bootstrap:(0,p.uv)(o.g5).filter(S),bulma:(0,p.uv)(a.g5).filter(S),chakra:(0,p.uv)(l.g5).filter(S),fluent:(0,p.uv)(i.g5).filter(S),mantine:(0,p.uv)(u.g5).filter(S),material:(0,p.uv)(d.g5).filter(S),tremor:(0,p.uv)(c.g5).filter(S)}},7439:(e,r,n)=>{"use strict";n.d(r,{F:()=>t});const t=[{label:"Percussion instruments",instruments:["Clapstick","Cowbell","Cymbal","Gong","Maraca","Marimba","More cowbell","Spoon","Steelpan","Tambourine","Triangle","Vibraphone","Washboard","Wood block","Wooden fish","Xylophone"]},{label:"Membranophones",instruments:["Barrel drum","Bass drum","Bongo drums","Conga","Drum","Drum kit","Jew's harp","Octaban","Samphor","Snare drum","Timpani","Tom-tom"]},{label:"Wind instruments",instruments:["Accordion","Air horn","Bagpipe","Baritone horn","Bassoon","Bazooka","Beatboxing","Blown bottle","Bugle","Clarinet","Conch","Cornet","Didgeridoo","Double bell euphonium","Doulophone","English horn","Euphonium","Flugelhorn","Flute","French horn","Harmonica","Irish flute","Jug","Kazoo","Melodeon","Mezzo-soprano","Oboe","Ocarina","Pan flute","Piccolo","Pipe organ","Recorder","Saxophone","Slide whistle","Sousaphone","Trombone","Trumpet","Tuba","Whistle"]},{label:"Stringed instruments",instruments:["Aeolian harp","Bandolin","Banjo ukulele","Cello","Chapman stick","Clavichord","Clavinet","Double bass","Dulcimer","Fiddle","Guitar","Hammered dulcimer","Harp","Harpsichord","Lute","Lyre","Maguhu","Mandola","Mandolin","Octobass","Piano","Sitar","Ukulele","Viol","Violin","Washtub bass"]},{label:"Electronic instruments",instruments:["AlphaSphere","Audiocubes","Bass pedals","Continuum Fingerboard","Croix Sonore","Denis d'or","Dubreq stylophone","Drum machine","Eigenharp","Electric guitar","Electronic keyboard","Electronic organ","EWI","Fingerboard synthesizer","Hammond organ","Keyboard","Keytar","Kraakdoos","Laser harp","Mellotron","MIDI keyboard","Omnichord","Ondes Martenot","Otamatone","Sampler","Seaboard music instrument","Skoog","Synclavier","Synthesizer","Teleharmonium","Tenori-on","Theremin","trautonium","Turntablism","Turntable"]}].map((({label:e,instruments:r})=>({label:e,options:r.map((e=>({name:e,label:e})))})))},65173:(e,r,n)=>{"use strict";n.d(r,{BP:()=>w,gv:()=>S,Fr:()=>O,t1:()=>x,fF:()=>j,OA:()=>y,qS:()=>f,pw:()=>C,lJ:()=>v});var t=n(38891),o=n(95917),a=n(16727),l=n(44018),s=n(31798),i=n(17413),u=n(49852),d=n(45669);function c(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){c(e,r,n[r])}))}return e}function m(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})),e}function b(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const h=i,g="@use 'sass:color';\n\n.svg-font-color svg > path {\n  fill: var(--ifm-font-color-base);\n}\n\n.queryBuilder {\n  min-width: 420px;\n}\n\n// Styles for when \"Use validation\" option is selected\n.validateQuery {\n  .queryBuilder {\n    // Invalid groups\n    .ruleGroup.queryBuilder-invalid {\n      background-color: #66339966; // transluscent rebeccapurple\n\n      // Bold the + Rule button if the group has no child rules or groups\n      .ruleGroup-addRule {\n        font-weight: bold !important;\n      }\n\n      // Message to user about empty groups\n      & > .ruleGroup-header::after {\n        content: 'Empty groups are considered invalid. Avoid them by using addRuleToNewGroups.';\n        color: white;\n      }\n    }\n\n    // Invalid rules\n    .rule.queryBuilder-invalid {\n      // Purple background for empty text fields\n      .rule-value {\n        background-color: #66339966; // transluscent rebeccapurple\n        &::placeholder {\n          color: color.scale(rebeccapurple, $lightness: -30%);\n        }\n      }\n    }\n  }\n}\n\n// Styles for when \"Use validation\" option is selected (dark theme variations)\nhtml[data-theme='dark'] {\n  .validateQuery {\n    .queryBuilder {\n      .rule.queryBuilder-invalid {\n        .rule-value {\n          &::placeholder {\n            color: color.scale(rebeccapurple, $lightness: 30%);\n          }\n        }\n      }\n    }\n  }\n}\n\n\n// Styles for when \"Justified layout\" option is selected\n.justifiedLayout {\n  .queryBuilder {\n    // Push the clone, lock, and remove buttons to the right edge\n    .ruleGroup-addGroup {\n      & + button.ruleGroup-cloneGroup,\n      & + button.ruleGroup-lock,\n      & + button.ruleGroup-remove {\n        margin-left: auto !important;\n      }\n    }\n    .rule-operators,\n    .rule-value,\n    .control,\n    .chakra-select__wrapper {\n      & + button.rule-cloneRule,\n      & + button.rule-lock,\n      & + button.rule-remove {\n        margin-left: auto !important;\n      }\n    }\n  }\n}\n",y=e=>t.hp.from(o.Ay.deflate(JSON.stringify(e))).toString("base64"),f=e=>{var{s:r}=e,n=b(e,["s"]);let a=null;r&&(a=(e=>{const r=t.hp.from(e,"base64"),n=o.Ay.inflate(r,{to:"string"});return JSON.parse(n)})(r));const l=Object.fromEntries(Object.entries(n).map((([e,r])=>[e,"true"===r])));return m(p({},a),{options:p({},null==a?void 0:a.options,l)})},v=(e,r)=>{if("reset"===r.type)return d.KQ;if("all"===r.type){const e=p({},d.KQ);for(const r of d.ic)e[r]="disabled"!==r&&"independentCombinators"!==r;return e}if("replace"===r.type)return r.payload;const{optionName:n,value:t}=r.payload;return m(p({},e),{[n]:t})},j=(e,r)=>{const n=(0,u.OJ)(e,"jsonata"===r.format?m(p({},r),{parseNumbers:!0}):r);return"json_without_ids"===r.format||"mongodb"===r.format?JSON.stringify(JSON.parse(n),null,2):"parameterized"===r.format||"parameterized_named"===r.format||"jsonlogic"===r.format||"elasticsearch"===r.format?JSON.stringify(n,null,2):n},x=e=>"sql"===e||"cel"===e||"spel"===e||"mongodb"===e||"jsonata"===e?e:"json",O=(e,r,n="scss")=>{const t="RuleGroupType"+(e.independentCombinators?"IC":""),o=e.enableDragAndDrop?"  ":"",l=r&&"default"!==r?"  ":"",[i,u,d]=(e=>{switch(e){case"antd":return["import { QueryBuilderAntD } from '@react-querybuilder/antd';","<QueryBuilderAntD>","</QueryBuilderAntD>"];case"bootstrap":return["import { QueryBuilderBootstrap } from '@react-querybuilder/bootstrap';\nimport 'bootstrap-icons/font/bootstrap-icons.scss';\nimport 'bootstrap/scss/bootstrap.scss';","<QueryBuilderBootstrap>","</QueryBuilderBootstrap>"];case"bulma":return["import { QueryBuilderBulma } from '@react-querybuilder/bulma';\nimport 'bulma/bulma.sass';","<QueryBuilderBulma>","</QueryBuilderBulma>"];case"chakra":return["import { QueryBuilderChakra } from '@react-querybuilder/chakra';\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react';\n\nconst chakraTheme = extendTheme();","<ChakraProvider theme={chakraTheme}>\n<QueryBuilderChakra>","</QueryBuilderChakra>\n</ChakraProvider>"];case"fluent":return["import { QueryBuilderFluent } from '@react-querybuilder/fluent';\nimport { FluentProvider, webLightTheme } from '@fluentui/react-components';","<FluentProvider theme={webLightTheme}>\n<QueryBuilderFluent>","</QueryBuilderFluent>\n</FluentProvider>"];case"material":return["import { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { QueryBuilderMaterial } from '@react-querybuilder/material';\n\nconst muiTheme = createTheme();\n","<ThemeProvider theme={muiTheme}>\n<QueryBuilderMaterial>","</QueryBuilderMaterial>\n</ThemeProvider>"];case"mantine":return["import { MantineProvider } from '@mantine/core';\nimport { QueryBuilderMantine } from '@react-querybuilder/mantine';\nimport '@mantine/core/styles.css';","<MantineProvider>\n<QueryBuilderMantine>","</QueryBuilderMantine>\n</MantineProvider>"];case"tremor":return["import { QueryBuilderTremor } from '@react-querybuilder/tremor';","<QueryBuilderTremor>","</QueryBuilderTremor>"]}return["","",""]})(r),c=r=>"autoSelectField"===r||"autoSelectOperator"===r||"resetOnFieldChange"===r?e[r]?"":`${r}={false}`:e[r]?r:"",p=["fields={fields}","query={query}","onQueryChange={setQuery}",c("addRuleToNewGroups"),c("autoSelectField"),c("autoSelectOperator"),c("debugMode"),c("disabled"),c("listsAsArrays"),c("resetOnFieldChange"),c("resetOnOperatorChange"),c("showCloneButtons"),c("showCombinatorsBetweenRules"),c("showLockButtons"),c("showNotToggle"),e.validateQuery?"validator={defaultValidator}":"",e.showBranches?"controlClassnames={{ queryBuilder: 'queryBuilder-branches' }}":""].filter(Boolean).map((e=>`\n      ${o}${l}${e}`)).join(""),m=`import { useState } from 'react';\n${e.enableDragAndDrop?"import { QueryBuilderDnD } from '@react-querybuilder/dnd';\nimport * as ReactDnD from 'react-dnd';\nimport * as ReactDndHtml5Backend from 'react-dnd-html5-backend';\n":""}import type { ${t} } from 'react-querybuilder';\nimport {${e.validateQuery?"defaultValidator, ":""} QueryBuilder } from 'react-querybuilder';\nimport { fields } from './fields';\nimport 'react-querybuilder/dist/query-builder.${n}';\nimport './styles.${n}';${i?`\n${i}`:""}\n\nconst initialQuery: ${t} = {${e.independentCombinators?"":" combinator: 'and',"} rules: [] };\n\nexport const App = () => {\n  const [query, setQuery] = useState(initialQuery);\n\n  return (${e.enableDragAndDrop?"<QueryBuilderDnD dnd={{ ...ReactDnD, ...ReactDndHtml5Backend }}>":""}${u}<QueryBuilder ${p} />${d}${e.enableDragAndDrop?"</QueryBuilderDnD>":""}\n  );\n}`;return h.format(m,{filepath:"App.tsx",plugins:[s,a],singleQuote:!0})},w=async()=>{const{compileString:e}=await Promise.all([n.e(63139),n.e(22050)]).then(n.bind(n,63139));return Promise.all([h.format(e(g).css,{filepath:"styles.css",plugins:[l],printWidth:100}),h.format(g,{filepath:"styles.scss",plugins:[l],printWidth:100})]).then((([e,r])=>({css:e,scss:r})))},S=h.format("import type { Field, RuleType } from 'react-querybuilder';\nimport { defaultOperators, toFullOption } from 'react-querybuilder';\nimport { musicalInstruments } from './musicalInstruments';\n\nexport const validator = (r: RuleType) => !!r.value;\n\nexport const fields = (\n  [\n    {\n      name: 'firstName',\n      label: 'First Name',\n      placeholder: 'Enter first name',\n      validator,\n    },\n    {\n      name: 'lastName',\n      label: 'Last Name',\n      placeholder: 'Enter last name',\n      defaultOperator: 'beginsWith',\n      validator,\n    },\n    { name: 'age', label: 'Age', inputType: 'number', validator },\n    {\n      name: 'isMusician',\n      label: 'Is a musician',\n      valueEditorType: 'checkbox',\n      operators: defaultOperators.filter(op => op.name === '='),\n      defaultValue: false,\n    },\n    {\n      name: 'instrument',\n      label: 'Primary instrument',\n      valueEditorType: 'select',\n      values: musicalInstruments,\n      defaultValue: 'Cowbell',\n      operators: defaultOperators.filter(op => op.name === '='),\n    },\n    {\n      name: 'alsoPlays',\n      label: 'Also plays',\n      valueEditorType: 'multiselect',\n      values: musicalInstruments,\n      defaultValue: 'More cowbell',\n      operators: defaultOperators.filter(op => op.name === 'in'),\n    },\n    {\n      name: 'gender',\n      label: 'Gender',\n      operators: defaultOperators.filter(op => op.name === '='),\n      valueEditorType: 'radio',\n      values: [\n        { name: 'M', label: 'Male' },\n        { name: 'F', label: 'Female' },\n        { name: 'O', label: 'Other' },\n      ],\n    },\n    { name: 'height', label: 'Height', validator },\n    { name: 'job', label: 'Job', validator },\n    { name: 'description', label: 'Description', valueEditorType: 'textarea' },\n    { name: 'birthdate', label: 'Birth Date', inputType: 'date' },\n    { name: 'datetime', label: 'Show Time', inputType: 'datetime-local' },\n    { name: 'alarm', label: 'Daily Alarm', inputType: 'time' },\n    {\n      name: 'groupedField1',\n      label: 'Grouped Field 1',\n      comparator: 'groupNumber',\n      groupNumber: 'group1',\n      valueSources: ['field', 'value'],\n    },\n    {\n      name: 'groupedField2',\n      label: 'Grouped Field 2',\n      comparator: 'groupNumber',\n      groupNumber: 'group1',\n      valueSources: ['field', 'value'],\n    },\n    {\n      name: 'groupedField3',\n      label: 'Grouped Field 3',\n      comparator: 'groupNumber',\n      groupNumber: 'group1',\n      valueSources: ['field', 'value'],\n    },\n    {\n      name: 'groupedField4',\n      label: 'Grouped Field 4',\n      comparator: 'groupNumber',\n      groupNumber: 'group1',\n      valueSources: ['field', 'value'],\n    },\n  ] satisfies Field[]\n).map(o => toFullOption(o));\n",{filepath:"fields.ts",plugins:[s,a],singleQuote:!0}),C=h.format("// Adapted from https://en.wikipedia.org/wiki/List_of_musical_instruments\nimport type { OptionGroup } from 'react-querybuilder';\n\nexport const musicalInstruments: OptionGroup[] = [\n  {\n    label: 'Percussion instruments',\n    instruments: [\n      'Clapstick',\n      'Cowbell',\n      'Cymbal',\n      'Gong',\n      'Maraca',\n      'Marimba',\n      'More cowbell',\n      'Spoon',\n      'Steelpan',\n      'Tambourine',\n      'Triangle',\n      'Vibraphone',\n      'Washboard',\n      'Wood block',\n      'Wooden fish',\n      'Xylophone',\n    ],\n  },\n  {\n    label: 'Membranophones',\n    instruments: [\n      'Barrel drum',\n      'Bass drum',\n      'Bongo drums',\n      'Conga',\n      'Drum',\n      'Drum kit',\n      \"Jew's harp\",\n      'Octaban',\n      'Samphor',\n      'Snare drum',\n      'Timpani',\n      'Tom-tom',\n    ],\n  },\n  {\n    label: 'Wind instruments',\n    instruments: [\n      'Accordion',\n      'Air horn',\n      'Bagpipe',\n      'Baritone horn',\n      'Bassoon',\n      'Bazooka',\n      'Beatboxing',\n      'Blown bottle',\n      'Bugle',\n      'Clarinet',\n      'Conch',\n      'Cornet',\n      'Didgeridoo',\n      'Double bell euphonium',\n      'Doulophone',\n      'English horn',\n      'Euphonium',\n      'Flugelhorn',\n      'Flute',\n      'French horn',\n      'Harmonica',\n      'Irish flute',\n      'Jug',\n      'Kazoo',\n      'Melodeon',\n      'Mezzo-soprano',\n      'Oboe',\n      'Ocarina',\n      'Pan flute',\n      'Piccolo',\n      'Pipe organ',\n      'Recorder',\n      'Saxophone',\n      'Slide whistle',\n      'Sousaphone',\n      'Trombone',\n      'Trumpet',\n      'Tuba',\n      'Whistle',\n    ],\n  },\n  {\n    label: 'Stringed instruments',\n    instruments: [\n      'Aeolian harp',\n      'Bandolin',\n      'Banjo ukulele',\n      'Cello',\n      'Chapman stick',\n      'Clavichord',\n      'Clavinet',\n      'Double bass',\n      'Dulcimer',\n      'Fiddle',\n      'Guitar',\n      'Hammered dulcimer',\n      'Harp',\n      'Harpsichord',\n      'Lute',\n      'Lyre',\n      'Maguhu',\n      'Mandola',\n      'Mandolin',\n      'Octobass',\n      'Piano',\n      'Sitar',\n      'Ukulele',\n      'Viol',\n      'Violin',\n      'Washtub bass',\n    ],\n  },\n  {\n    label: 'Electronic instruments',\n    instruments: [\n      'AlphaSphere',\n      'Audiocubes',\n      'Bass pedals',\n      'Continuum Fingerboard',\n      'Croix Sonore',\n      \"Denis d'or\",\n      'Dubreq stylophone',\n      'Drum machine',\n      'Eigenharp',\n      'Electric guitar',\n      'Electronic keyboard',\n      'Electronic organ',\n      'EWI',\n      'Fingerboard synthesizer',\n      'Hammond organ',\n      'Keyboard',\n      'Keytar',\n      'Kraakdoos',\n      'Laser harp',\n      'Mellotron',\n      'MIDI keyboard',\n      'Omnichord',\n      'Ondes Martenot',\n      'Otamatone',\n      'Sampler',\n      'Seaboard music instrument',\n      'Skoog',\n      'Synclavier',\n      'Synthesizer',\n      'Teleharmonium',\n      'Tenori-on',\n      'Theremin',\n      'trautonium',\n      'Turntablism',\n      'Turntable',\n    ],\n  },\n].map(({ label, instruments }) => ({\n  label,\n  options: instruments.map(s => ({ name: s, label: s })),\n}));\n",{filepath:"musicalInstrumentsCode.ts",plugins:[s,a],singleQuote:!0})},47600:e=>{function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=47600,e.exports=r},95605:(e,r,n)=>{"use strict";n.d(r,{qy:()=>g});var t=n(63696),o=n(90817),a=e=>{const[r,o]=(0,t.useState)(e??null);return(0,t.useEffect)((()=>{let e=!1;return r||(async()=>{const[r,t]=await Promise.all([n.e(63729).then(n.bind(n,63729)).catch((()=>null)),n.e(84029).then(n.bind(n,84029)).catch((()=>null))]);e||r&&t&&o((()=>({...r,...t})))})(),()=>{e=!0}}),[r]),r},l=({type:e,path:r,ruleOrGroup:n,disabled:t,actions:a,schema:l,useDrag:s})=>s((()=>({type:e,item:{...n,path:r,qbId:l.qbId},canDrag:!t,collect:e=>({isDragging:!t&&e.isDragging(),dragMonitorId:e.getHandlerId()??""}),end:(e,r)=>{const n=r.getDropResult();if(!n)return;const t=(0,o._6)(n.path),s=n.path[n.path.length-1],i="ruleGroup"===n.type?[...n.path,0]:"inlineCombinator"===n.type?[...t,s]:[...t,s+1];if(l.qbId!==n.qbId){const r=n.getQuery();r&&(n.dispatchQuery((0,o.Yr)(r,e,i)),"copy"!==n.dropEffect&&a.onRuleRemove(e.path))}else a.moveRule(e.path,i,"copy"===n.dropEffect)}})),[t,r]),s=["rule","ruleGroup"],i=["rule","ruleGroup"],{rule:u,ruleGroup:d,combinatorSelector:c}=o.YM,p=(0,t.createContext)({baseControls:{rule:u,ruleGroup:d,combinatorSelector:c}}),m=({component:e,...r})=>{const{canDrop:n,useDrop:a}=(0,t.useContext)(p),{dropRef:l,dropMonitorId:s,isOver:i}=(({path:e,canDrop:r,schema:n,useDrop:a,rules:l})=>{const s=(0,t.useRef)(null),i=(l??[])[e[e.length-1]-1],[{isOver:u,dropMonitorId:d},c]=a((()=>({accept:["rule","ruleGroup"],canDrop:t=>{const{path:a}=t;if(t&&"function"==typeof r&&!r({dragging:t,hovering:{...i,path:e,qbId:n.qbId}}))return!1;const l=(0,o._6)(e),s=(0,o._6)(a),u=e[e.length-1],d=a[a.length-1];return!((0,o.QX)(a,e)||(0,o.P9)(a,e)||(0,o.P9)(l,s)&&u-1===d||n.independentCombinators&&(0,o.P9)(l,s)&&u===d-1)},collect:e=>({isOver:e.canDrop()&&e.isOver(),dropMonitorId:e.getHandlerId()??"",dropEffect:(e.getDropResult()??{}).dropEffect}),drop:()=>{const{qbId:r,getQuery:t,dispatchQuery:o}=n;return{type:"inlineCombinator",path:e,qbId:r,getQuery:t,dispatchQuery:o}}})),[e,n.independentCombinators]);return c(s),{dropRef:s,dropMonitorId:d,isOver:u}})({...r,component:e,useDrop:a,canDrop:n}),u=i?o.q4.dndOver:"",d=`${o.q4.betweenRules}${u?` ${u}`:""}`;return t.createElement("div",{key:"dnd",ref:l,className:d,"data-dropmonitorid":s,"data-testid":o.W.inlineCombinator},t.createElement(e,{...r,testID:o.W.combinators}))},b=e=>{const r=(0,t.useContext)(p),{canDrop:n,useDrag:a,useDrop:i}=r,u=!!e.parentDisabled||!!e.disabled,d=(e=>{const{path:r,rule:n,disabled:a,schema:i,actions:u,useDrag:d,useDrop:c,canDrop:p,rule:m}=e,b=(0,t.useRef)(null),h=(0,t.useRef)(null),[{isDragging:g,dragMonitorId:y},f,v]=l({type:"rule",path:r,ruleOrGroup:n,disabled:a,independentCombinators:i.independentCombinators,moveRule:u.moveRule,schema:i,actions:u,useDrag:d}),[{isOver:j,dropMonitorId:x,dropEffect:O},w]=c((()=>({accept:s,canDrop:e=>{if(e&&"function"==typeof p&&!p({dragging:e,hovering:{...m,path:r,qbId:i.qbId}}))return!1;if(i.qbId!==e.qbId)return!0;const n=(0,o._6)(r),t=(0,o._6)(e.path),a=r[r.length-1],l=e.path[e.path.length-1];return!((0,o.QX)(e.path,r)||(0,o.P9)(n,t)&&(a===l||a===l-1||i.independentCombinators&&a===l-2))},collect:e=>({isOver:e.canDrop()&&e.isOver(),dropMonitorId:e.getHandlerId()??"",dropEffect:(e.getDropResult()??{}).dropEffect}),drop:()=>{const{qbId:e,getQuery:n,dispatchQuery:t}=i;return{type:"rule",path:r,qbId:e,getQuery:n,dispatchQuery:t}}})),[a,i.independentCombinators,u.moveRule,r]);return f(h),v(w(b)),{isDragging:g,dragMonitorId:y,isOver:j,dropMonitorId:x,dndRef:b,dragRef:h,dropEffect:O}})({...e,disabled:u,useDrag:a,useDrop:i,canDrop:n}),{rule:c}=r.baseControls;return t.createElement(p.Provider,{value:r},t.createElement(c,{...e,...d}))},h=e=>{const r=(0,t.useContext)(p),{canDrop:n,useDrag:a,useDrop:s}=r,u=!!e.parentDisabled||!!e.disabled,d=(e=>{const{disabled:r,path:n,ruleGroup:a,schema:s,actions:u,useDrag:d,useDrop:c,canDrop:p,ruleGroup:m}=e,b=(0,t.useRef)(null),h=(0,t.useRef)(null),g=(0,t.useRef)(null),[{isDragging:y,dragMonitorId:f},v,j]=l({type:"ruleGroup",path:n,ruleOrGroup:a,disabled:r,independentCombinators:s.independentCombinators,moveRule:u.moveRule,schema:s,actions:u,useDrag:d}),[{isOver:x,dropMonitorId:O,dropEffect:w},S]=c((()=>({accept:i,canDrop:e=>{if(r||e&&"function"==typeof p&&!p({dragging:e,hovering:{...m,path:n,qbId:s.qbId}}))return!1;if(s.qbId!==e.qbId)return!0;const t=(0,o._6)(e.path),a=e.path[e.path.length-1];return!((0,o.QX)(e.path,n)||(0,o.P9)(n,t)&&0===a||(0,o.P9)(n,e.path))},collect:e=>({isOver:e.canDrop()&&e.isOver(),dropMonitorId:e.getHandlerId()??"",dropEffect:(e.getDropResult()??{}).dropEffect}),drop:(e,r)=>{const{qbId:t,getQuery:o,dispatchQuery:a}=s;return r.getDropResult()??{type:"ruleGroup",path:n,qbId:t,getQuery:o,dispatchQuery:a}}})),[r,u.moveRule,n]);return n.length>0&&(v(h),j(b)),S(g),{isDragging:y,dragMonitorId:f,isOver:x,dropMonitorId:O,previewRef:b,dragRef:h,dropRef:g,dropEffect:w}})({...e,disabled:u,useDrag:a,useDrop:s,canDrop:n}),{ruleGroup:c}=r.baseControls;return t.createElement(c,{...e,...d})},g=e=>{const{controlClassnames:r,controlElements:n,debugMode:l,enableDragAndDrop:s,enableMountQueryChange:i,translations:u,canDrop:d}=e,c=(0,o.JZ)({controlClassnames:r,controlElements:n,debugMode:l,enableDragAndDrop:s??!0,enableMountQueryChange:i,translations:u??{}}),{enableDragAndDrop:p}=c,m=a(e.dnd),b=p&&m?"dnd":"no-dnd";if(!p||!m)return t.createElement(o.PD.Provider,{key:b,value:{...c,enableDragAndDrop:!1,debugMode:l}},e.children);const{DndProvider:h,HTML5Backend:g}=m;return t.createElement(h,{key:b,backend:g,debugMode:l},t.createElement(o.PD.Provider,{key:b,value:{...c,enableDragAndDrop:p,debugMode:l}},t.createElement(y,{dnd:m,canDrop:d},e.children)))},y=e=>{const r=(0,t.useContext)(o.PD),n=(0,t.useContext)(p),l=a(e.dnd),s=(0,o.$_)(!1,e.debugMode,r.debugMode),i=(0,o.Fi)(void 0,e.canDrop,n.canDrop),u=(0,o.$_)(!0,e.enableDragAndDrop,r.enableDragAndDrop),d=u&&l?"dnd":"no-dnd";if(!u||!l)return t.createElement(o.PD.Provider,{key:d,value:{...r,enableDragAndDrop:!1,debugMode:s}},e.children);const{DndContext:c,useDrag:g,useDrop:y}=l,f={rule:e.controlElements?.rule??r.controlElements?.rule??n.baseControls.rule,ruleGroup:e.controlElements?.ruleGroup??r.controlElements?.ruleGroup??n.baseControls.ruleGroup,combinatorSelector:e.controlElements?.combinatorSelector??r.controlElements?.combinatorSelector??n.baseControls.combinatorSelector},v={...r,controlElements:{...r.controlElements,ruleGroup:h,rule:b,inlineCombinator:m}};return t.createElement(c.Consumer,{key:d},(()=>t.createElement(o.PD.Provider,{key:d,value:v},t.createElement(p.Provider,{value:{useDrag:g,useDrop:y,baseControls:f,canDrop:i}},e.children))))}}}]);