"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[89584],{89584:(e,n,t)=>{var r,o,i,a,u,l=Object.create,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,v=(e,n,t,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let o of d(n))f.call(e,o)||o===t||c(e,o,{get:()=>n[o],enumerable:!(r=s(n,o))||r.enumerable});return e},g=(a={"../../node_modules/spel2js/dist/spel2js.js"(t,a){var u;u=function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=3)}([function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelNode={create:function(e,n){var t,r={},o=e||"Abstract",i=[],a=null;if(r._type=o,r.getType=function(){return o},r.setType=function(e){o=e},r.getChildren=function(){return i},r.addChild=function(e){if(e){if(!e.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(e)};e.setParent(r),i.push(e)}},r.getParent=function(){return a},r.setParent=function(e){a=e},r.getContext=function(e){return t||e.activeContext.peek()},r.setContext=function(e){t=e},r.getStartPosition=function(){return n>>16},r.getEndPosition=function(){return 65535&n},r.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},r.toString=function(){var e="Kind: "+r.getType();e+=", Children: [";for(var n=0,t=r.getChildren().length;n<t;n+=1)e+="{"+r.getChildren()[n]+"}, ";return e+="]"},0===n)throw{name:"Error",message:"Position cannot be 0"};for(var u=arguments.length,l=Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];return l&&l.forEach((function(e){r.addChild(e)})),r}}},function(e,n,t){function r(e){this.elements=e||[]}Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=r,r.prototype.push=function(e){return this.elements.push(e),e},r.prototype.pop=function(){return this.elements.pop()},r.prototype.peek=function(){return this.elements[this.elements.length-1]},r.prototype.empty=function(){return this.elements.length>0},r.prototype.search=function(e){return this.elements.length-this.elements.indexOf(e)}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(e){this.type=e,this.tokenChars=r[e],this._hasPayload="string"!=typeof r[e],"number"==typeof r[e]&&(this._ordinal=r[e])}for(var i in r)r.hasOwnProperty(i)&&(o[i]=new o(i));o.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(e){for(var n in r)if(r.hasOwnProperty(n)&&r[n]===e)return o[n]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var r=t(4),o=t(50);n.SpelExpressionEvaluator=r.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var r=t(5),o=t(1),i={compile:function(e){var n=(0,r.SpelExpressionParser)().parse(e);return{eval:function(e,t){return function(e,n,t){var r,i=new o.Stack;return n||(n={}),i.push(n),r={rootContext:n,activeContext:i,locals:t},e.getValue(r)}(n,e,t)},_compiledExpression:n}},eval:function(e,n,t){return i.compile(e).eval(n,t)}};n.SpelExpressionEvaluator=i},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var r=t(2),o=t(6),i=t(8),a=t(9),u=t(10),l=t(11),c=t(12),s=t(13),d=t(14),p=t(15),f=t(16),v=t(17),g=t(18),T=t(19),h=t(20),E=t(21),k=t(22),y=t(23),O=t(24),S=t(25),N=t(26),m=t(27),K=t(28),L=t(29),R=t(30),A=t(31),C=t(32),P=t(33),_=t(34),b=t(35),I=t(36),x=t(37),V=t(38),M=t(39),w=t(40),j=t(41),D=t(42),F=t(43),U=t(44),G=t(45),B=t(46),Q=t(47),Y=t(48),H=t(49);n.SpelExpressionParser=function(){var e,n,t,$,W=new RegExp("[\\p{L}\\p{N}_$]+"),X=[];function z(){var e=q();if(Se()){var n=me();if(n.getKind()===r.TokenKind.ASSIGN){null===e&&(e=l.NullLiteral.create(Ce(n.startPos-1,n.endPos-1))),Ne();var t=q();return g.Assign.create(Ae(n),e,t)}if(n.getKind()===r.TokenKind.ELVIS){null===e&&(e=l.NullLiteral.create(Ce(n.startPos-1,n.endPos-2))),Ne();var o=z();return null===o&&(o=l.NullLiteral.create(Ce(n.startPos+1,n.endPos+1))),V.Elvis.create(Ae(n),e,o)}if(n.getKind()===r.TokenKind.QMARK){null===e&&(e=l.NullLiteral.create(Ce(n.startPos-1,n.endPos-1))),Ne();var i=z();he(r.TokenKind.COLON);var a=z();return x.Ternary.create(Ae(n),e,i,a)}}return e}function q(){for(var e=J();Oe("or")||Ee(r.TokenKind.SYMBOLIC_OR);){var n=Ne(),t=J();Le(n,e,t),e=b.OpOr.create(Ae(n),e,t)}return e}function J(){for(var e=Z();Oe("and")||Ee(r.TokenKind.SYMBOLIC_AND);){var n=Ne(),t=Z();Le(n,e,t),e=_.OpAnd.create(Ae(n),e,t)}return e}function Z(){var e=ee(),n=function(){var e=me();if(null===e)return null;if(e.isNumericRelationalOperator())return e;if(e.isIdentifier()){var n=e.stringValue();if("instanceof"===n.toLowerCase())return e.asInstanceOfToken();if("matches"===n.toLowerCase())return e.asMatchesToken();if("between"===n.toLowerCase())return e.asBetweenToken()}return null}();if(null!==n){var t=Ne(),o=ee();Le(t,e,o);var i=n.kind;if(n.isNumericRelationalOperator()){var a=Ae(t);return i===r.TokenKind.GT?k.OpGT.create(a,e,o):i===r.TokenKind.LT?O.OpLT.create(a,e,o):i===r.TokenKind.LE?y.OpLE.create(a,e,o):i===r.TokenKind.GE?E.OpGE.create(a,e,o):i===r.TokenKind.EQ?T.OpEQ.create(a,e,o):h.OpNE.create(a,e,o)}return i===r.TokenKind.INSTANCEOF?F.OpInstanceof.create(Ae(t),e,o):i===r.TokenKind.MATCHES?I.OpMatches.create(Ae(t),e,o):U.OpBetween.create(Ae(t),e,o)}return e}function ee(){for(var e=ne();ye(r.TokenKind.PLUS,r.TokenKind.MINUS,r.TokenKind.INC);){var n=Ne(),t=ne();Re(n,t),n.getKind()===r.TokenKind.PLUS?e=S.OpPlus.create(Ae(n),e,t):n.getKind()===r.TokenKind.MINUS&&(e=N.OpMinus.create(Ae(n),e,t))}return e}function ne(){for(var e=te();ye(r.TokenKind.STAR,r.TokenKind.DIV,r.TokenKind.MOD);){var n=Ne(),t=te();Le(n,e,t),e=n.getKind()===r.TokenKind.STAR?m.OpMultiply.create(Ae(n),e,t):n.getKind()===r.TokenKind.DIV?K.OpDivide.create(Ae(n),e,t):L.OpModulus.create(Ae(n),e,t)}return e}function te(){var e,n=re();if(Ee(r.TokenKind.POWER)){e=Ne();var t=re();return Re(e,t),R.OpPower.create(Ae(e),n,t)}return null!==n&&ye(r.TokenKind.INC,r.TokenKind.DEC)?(e=Ne()).getKind()===r.TokenKind.INC?A.OpInc.create(Ae(e),!0,n):C.OpDec.create(Ae(e),!0,n):n}function re(){var e,n;return ye(r.TokenKind.PLUS,r.TokenKind.MINUS,r.TokenKind.NOT)?(e=Ne(),n=re(),e.getKind()===r.TokenKind.NOT?P.OpNot.create(Ae(e),n):e.getKind()===r.TokenKind.PLUS?S.OpPlus.create(Ae(e),n):N.OpMinus.create(Ae(e),n)):ye(r.TokenKind.INC,r.TokenKind.DEC)?(e=Ne(),n=re(),e.getKind()===r.TokenKind.INC?A.OpInc.create(Ae(e),!1,n):C.OpDec.create(Ae(e),!1,n)):function(){var e=[],n=function(){var e=me();if(null===e)return!1;if(e.getKind()===r.TokenKind.LITERAL_INT||e.getKind()===r.TokenKind.LITERAL_LONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),10),Ae(e)));else if(e.getKind()===r.TokenKind.LITERAL_REAL||e.getKind()===r.TokenKind.LITERAL_REAL_FLOAT)ge(a.NumberLiteral.create(parseFloat(e.stringValue()),Ae(e)));else if(e.getKind()===r.TokenKind.LITERAL_HEXINT||e.getKind()===r.TokenKind.LITERAL_HEXLONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),16),Ae(e)));else if(Oe("true"))ge(i.BooleanLiteral.create(!0,Ae(e)));else if(Oe("false"))ge(i.BooleanLiteral.create(!1,Ae(e)));else{if(e.getKind()!==r.TokenKind.LITERAL_STRING)return!1;ge(u.StringLiteral.create(e.stringValue(),Ae(e)))}return Ne(),!0}()||function(){if(Ee(r.TokenKind.LPAREN)){Ne();var e=z();return he(r.TokenKind.RPAREN),ge(e),!0}return!1}()||function(){if(Ee(r.TokenKind.IDENTIFIER)){var e=me();if("T"!==e.stringValue())return!1;var n=Ne();if(Ee(r.TokenKind.RSQUARE))return ge(d.PropertyReference.create(n.stringValue(),Ae(n))),!0;he(r.TokenKind.LPAREN);for(var t=pe(),o=0;ke(r.TokenKind.LSQUARE,!0);)he(r.TokenKind.RSQUARE),o++;return he(r.TokenKind.RPAREN),ge(G.TypeReference.create(Ae(e),t,o)),!0}return!1}()||function(){if(Ee(r.TokenKind.IDENTIFIER)){var e=me();return"null"===e.stringValue().toLowerCase()&&(Ne(),ge(l.NullLiteral.create(Ae(e))),!0)}return!1}()||function(){if(Oe("new")){var e=Ne();if(Ee(r.TokenKind.RSQUARE))return ge(d.PropertyReference.create(e.stringValue(),Ae(e))),!0;var n=pe(),t=[];if(t.push(n),Ee(r.TokenKind.LSQUARE)){for(var o=[];ke(r.TokenKind.LSQUARE,!0);)Ee(r.TokenKind.RSQUARE)?o.push(null):o.push(z()),he(r.TokenKind.RSQUARE);ce()&&t.push(Te()),ge(H.ConstructorReference.create(Ae(e),o,t))}else i=t,Ee(r.TokenKind.LPAREN)||Ke(Ae(me()),"MISSING_CONSTRUCTOR_ARGS"),ue(i),he(r.TokenKind.RPAREN),ge(H.ConstructorReference.create(Ae(e),t));return!0}var i;return!1}()||ve(!1)||ie()||function(){if(Ee(r.TokenKind.BEAN_REF)){var e=Ne(),n=null,t=null;return Ee(r.TokenKind.IDENTIFIER)?t=(n=he(r.TokenKind.IDENTIFIER)).data:Ee(r.TokenKind.LITERAL_STRING)?t=(t=(n=he(r.TokenKind.LITERAL_STRING)).stringValue()).substring(1,t.length()-1):Ke(e.startPos,"INVALID_BEAN_REFERENCE"),ge(B.BeanReference.create(Ae(n),t)),!0}return!1}()||le(!1)||de(!1)||se()||ce()?Te():null;for(e.push(n);oe();)e.push(Te());return 1===e.length?e[0]:f.CompoundExpression.create(Ce(n.getStartPosition(),e[e.length-1].getEndPosition()),e)}()}function oe(){var e,n,t=null;return null!==(t=ye(r.TokenKind.DOT,r.TokenKind.SAFE_NAVI)?(e=Ne(),ve(n=e.getKind()===r.TokenKind.SAFE_NAVI)||ie()||le(n)||de(n)?Te():(null===me()?Ke(e.startPos,"OOD"):Ke(e.startPos,"UNEXPECTED_DATA_AFTER_DOT",function(e){return e.getKind().hasPayload()?e.stringValue():e.getKind().toString().toLowerCase()}(me())),null)):Ee(r.TokenKind.LSQUARE)&&se()?Te():null)&&(ge(t),!0)}function ie(){if(!Ee(r.TokenKind.HASH))return!1;var e=Ne(),n=he(r.TokenKind.IDENTIFIER),t=ae();return null===t?(ge(p.VariableReference.create(n.data,Ce(e.startPos,n.endPos))),!0):(ge(c.FunctionReference.create(n.data,Ce(e.startPos,n.endPos),t)),!0)}function ae(){if(!Ee(r.TokenKind.LPAREN))return null;var e=[];return ue(e),he(r.TokenKind.RPAREN),e}function ue(e){var n,t=me().startPos;do{Ne();var o=me();null===o&&Ke(t,"RUN_OUT_OF_ARGUMENTS"),o.getKind()!==r.TokenKind.RPAREN&&e.push(z()),n=me()}while(null!==n&&n.kind===r.TokenKind.COMMA);null===n&&Ke(t,"RUN_OUT_OF_ARGUMENTS")}function le(e){var n=me();if(!ke(r.TokenKind.PROJECT,!0))return!1;var t=z();return he(r.TokenKind.RSQUARE),ge(D.Projection.create(e,Ae(n),t)),!0}function ce(){var e=me(),n=[];if(!ke(r.TokenKind.LCURLY,!0))return!1;var t=null,o=me();if(ke(r.TokenKind.RCURLY,!0))t=M.InlineList.create(Ce(e.startPos,o.endPos));else if(ke(r.TokenKind.COLON,!0))o=he(r.TokenKind.RCURLY),t=w.InlineMap.create(Ce(e.startPos,o.endPos));else{var i=z();if(Ee(r.TokenKind.RCURLY))n.push(i),o=he(r.TokenKind.RCURLY),t=M.InlineList.create(Ce(e.startPos,o.endPos),n);else if(ke(r.TokenKind.COMMA,!0)){n.push(i);do{n.push(z())}while(ke(r.TokenKind.COMMA,!0));o=he(r.TokenKind.RCURLY),t=M.InlineList.create(Ae(e.startPos,o.endPos),n)}else if(ke(r.TokenKind.COLON,!0)){var a=[];for(a.push(i),a.push(z());ke(r.TokenKind.COMMA,!0);)a.push(z()),he(r.TokenKind.COLON),a.push(z());o=he(r.TokenKind.RCURLY),t=w.InlineMap.create(Ce(e.startPos,o.endPos),a)}else Ke(e.startPos,"OOD")}return ge(t),!0}function se(){var e=me();if(!ke(r.TokenKind.LSQUARE,!0))return!1;var n=z();return he(r.TokenKind.RSQUARE),ge(v.Indexer.create(Ae(e),n)),!0}function de(e){var n=me();if(!function(){if(!Se())return!1;var e=me();return e.getKind()===r.TokenKind.SELECT||e.getKind()===r.TokenKind.SELECT_FIRST||e.getKind()===r.TokenKind.SELECT_LAST}())return!1;Ne();var t=z();return null===t&&Ke(Ae(n),"MISSING_SELECTION_EXPRESSION"),he(r.TokenKind.RSQUARE),n.getKind()===r.TokenKind.SELECT_FIRST?ge(j.Selection.create(e,j.Selection.FIRST,Ae(n),t)):n.getKind()===r.TokenKind.SELECT_LAST?ge(j.Selection.create(e,j.Selection.LAST,Ae(n),t)):ge(j.Selection.create(e,j.Selection.ALL,Ae(n),t)),!0}function pe(){for(var n=[],t=me();fe(t);)Ne(),t.kind!==r.TokenKind.DOT&&n.push(Q.Identifier.create(t.stringValue(),Ae(t))),t=me();n.length||(null===t&&Ke(e.length(),"OOD"),Ke(t.startPos,"NOT_EXPECTED_TOKEN","qualified ID",t.getKind().toString().toLowerCase()));var o=Ce(n[0].getStartPosition(),n[n.length-1].getEndPosition());return Y.QualifiedIdentifier.create(o,n)}function fe(e){if(null===e||e.kind===r.TokenKind.LITERAL_STRING)return!1;if(e.kind===r.TokenKind.DOT||e.kind===r.TokenKind.IDENTIFIER)return!0;var n=e.stringValue();return n&&n.length&&W.test(n)}function ve(e){if(Ee(r.TokenKind.IDENTIFIER)){var n=Ne(),t=ae();return null===t?(ge(d.PropertyReference.create(e,n.stringValue(),Ae(n))),!0):(ge(s.MethodReference.create(e,n.stringValue(),Ae(n),t)),!0)}return!1}function ge(e){X.push(e)}function Te(){return X.pop()}function he(n){var t=Ne();return null===t&&Ke(e.length,"OOD"),t.getKind()!==n&&Ke(t.startPos,"NOT_EXPECTED_TOKEN",n.toString().toLowerCase(),t.getKind().toString().toLowerCase()),t}function Ee(e){return ke(e,!1)}function ke(e,n){if(!Se())return!1;var t=me();return t.getKind()===e?(n&&$++,!0):e===r.TokenKind.IDENTIFIER&&t.getKind().ordinal()>=r.TokenKind.DIV.ordinal()&&t.getKind().ordinal()<=r.TokenKind.NOT.ordinal()&&null!==t.data}function ye(){if(!Se())return!1;for(var e=me(),n=Array.prototype.slice.call(arguments),t=0,r=n.length;t<r;t+=1)if(e.getKind()===n[t])return!0;return!1}function Oe(e){if(!Se())return!1;var n=me();return n.getKind()===r.TokenKind.IDENTIFIER&&n.stringValue().toLowerCase()===e.toLowerCase()}function Se(){return $<n.length}function Ne(){return $>=t?null:n[$++]}function me(){return $>=t?null:n[$]}function Ke(n,t,r,o){throw r&&(t+="\nExpected: "+r),o&&(t+="\nActual: "+o),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+e+"' at position "+n+". Message: "+t}}function Le(e,n,t){!function(e,n){null===n&&Ke(e.startPos,"LEFT_OPERAND_PROBLEM")}(e,n),Re(e,t)}function Re(e,n){null===n&&Ke(e.startPos,"RIGHT_OPERAND_PROBLEM")}function Ae(e){return(e.startPos<<16)+e.endPos}function Ce(e,n){return(e<<16)+n}return{setConfiguration:function(e){},parse:function(r,i){try{e=r,n=o.Tokenizer.tokenize(r),t=n.length,$=0,X=[];var a=z();return Se()&&Ke(me().startPos,"MORE_INPUT",Ne().toString()),a}catch(u){throw u.message}}}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var r=t(7),o=t(2),i=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],a=[];!function(){var e;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e+=1)a[e]|=3;for(e="A".charCodeAt(0);e<="F".charCodeAt(0);e+=1)a[e]|=2;for(e="a".charCodeAt(0);e<="f".charCodeAt(0);e+=1)a[e]|=2;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e+=1)a[e]|=4;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e+=1)a[e]|=4}(),n.Tokenizer={tokenize:function(e){var n=e,t=e+"\0",u=t.length,l=0,c=[];function s(){for(var e,i=l,a=!1;!a;)if("'"===(e=t[l+=1])&&("'"===t[l+1]?l+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+n+") at position "+l};l+=1,c.push(new r.Token(o.TokenKind.LITERAL_STRING,h(i,l),i,l))}function d(){for(var e,i=l,a=!1;!a;)if('"'===(e=t[l+=1])&&('"'===t[l+1]?l+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+n+") at position "+l};l+=1,c.push(new r.Token(o.TokenKind.LITERAL_STRING,h(i,l),i,l))}function p(e){var r,o,i,a=!1,u=l,c=t[l+1];if(!e||"x"!==c&&"X"!==c){do{l+=1}while(m(t[l]));if("."===(c=t[l])){a=!0,r=l;do{l+=1}while(m(t[l]));if(l===r+1)return void v(h(u,l=r),!1,u,l)}if(o=l,O("L","l")){if(a)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+n+") at position "+l};v(h(u,o),!0,u,o),l+=1}else if(function(e){return"e"===e||"E"===e}(t[l])){a=!0,function(e){return"+"===e||"-"===e}(t[l+=1])&&(l+=1);do{l+=1}while(m(t[l]));i=!1,S(t[l])?(i=!0,o=l+=1):N(t[l])&&(o=l+=1),T(h(u,l),i,u,l)}else i=!1,S(c=t[l])?(a=!0,i=!0,o=l+=1):N(c)&&(a=!0,o=l+=1),a?T(h(u,o),i,u,o):v(h(u,o),!1,u,o)}else{l+=1;do{l+=1}while(L(t[l]));O("L","l")?(g(h(u+2,l),!0,u,l),l+=1):g(h(u+2,l),!1,u,l)}}function f(){var e,n,a,u,s,d,p=l;do{l+=1}while(K(a=t[l])||m(a)||"_"===a||"$"===a);if(e=h(p,l),(l-p==2||l-p==3)&&(n=e.toUpperCase(),i.indexOf(n)>=0))return u=o.TokenKind.valueOf(n),s=p,d=e,void c.push(new r.Token(u,d,s,s+u.getLength()));c.push(new r.Token(o.TokenKind.IDENTIFIER,e.replace("\0",""),p,l))}function v(e,n,t,i){n?c.push(new r.Token(o.TokenKind.LITERAL_LONG,e,t,i)):c.push(new r.Token(o.TokenKind.LITERAL_INT,e,t,i))}function g(e,t,i,a){if(0===e.length)throw t?{name:"SpelParseException",message:"Not a long in expression ("+n+") at position "+l}:{name:"SpelParseException",message:"Not an int in expression ("+n+") at position "+l};t?c.push(new r.Token(o.TokenKind.LITERAL_HEXLONG,e,i,a)):c.push(new r.Token(o.TokenKind.LITERAL_HEXINT,e,i,a))}function T(e,n,t,i){n?c.push(new r.Token(o.TokenKind.LITERAL_REAL_FLOAT,e,t,i)):c.push(new r.Token(o.TokenKind.LITERAL_REAL,e,t,i))}function h(e,n){return t.substring(e,n)}function E(e){return 2===e.tokenChars.length&&t[l]===e.tokenChars[0]&&t[l+1]===e.tokenChars[1]}function k(e){c.push(new r.Token(e,null,l,l+1)),l+=1}function y(e){c.push(new r.Token(e,null,l,l+2)),l+=2}function O(e,n){var r=t[l];return r===e||r===n}function S(e){return"f"===e||"F"===e}function N(e){return"d"===e||"D"===e}function m(e){return!(e.charCodeAt(0)>255||!(1&a[e.charCodeAt(0)]))}function K(e){return!(e.charCodeAt(0)>255||!(4&a[e.charCodeAt(0)]))}function L(e){return!(e.charCodeAt(0)>255||!(2&a[e.charCodeAt(0)]))}return function(){for(var e;l<u;)if(K(e=t[l]))f();else switch(e){case"+":E(o.TokenKind.INC)?y(o.TokenKind.INC):k(o.TokenKind.PLUS);break;case"_":f();break;case"-":E(o.TokenKind.DEC)?y(o.TokenKind.DEC):k(o.TokenKind.MINUS);break;case":":k(o.TokenKind.COLON);break;case".":k(o.TokenKind.DOT);break;case",":k(o.TokenKind.COMMA);break;case"*":k(o.TokenKind.STAR);break;case"/":k(o.TokenKind.DIV);break;case"%":k(o.TokenKind.MOD);break;case"(":k(o.TokenKind.LPAREN);break;case")":k(o.TokenKind.RPAREN);break;case"[":k(o.TokenKind.LSQUARE);break;case"#":k(o.TokenKind.HASH);break;case"]":k(o.TokenKind.RSQUARE);break;case"{":k(o.TokenKind.LCURLY);break;case"}":k(o.TokenKind.RCURLY);break;case"@":k(o.TokenKind.BEAN_REF);break;case"^":E(o.TokenKind.SELECT_FIRST)?y(o.TokenKind.SELECT_FIRST):k(o.TokenKind.POWER);break;case"!":E(o.TokenKind.NE)?y(o.TokenKind.NE):E(o.TokenKind.PROJECT)?y(o.TokenKind.PROJECT):k(o.TokenKind.NOT);break;case"=":E(o.TokenKind.EQ)?y(o.TokenKind.EQ):k(o.TokenKind.ASSIGN);break;case"&":if(!E(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+n+") at position "+l};y(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!E(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+n+") at position "+l};y(o.TokenKind.SYMBOLIC_OR);break;case"?":E(o.TokenKind.SELECT)?y(o.TokenKind.SELECT):E(o.TokenKind.ELVIS)?y(o.TokenKind.ELVIS):E(o.TokenKind.SAFE_NAVI)?y(o.TokenKind.SAFE_NAVI):k(o.TokenKind.QMARK);break;case"$":E(o.TokenKind.SELECT_LAST)?y(o.TokenKind.SELECT_LAST):f();break;case">":E(o.TokenKind.GE)?y(o.TokenKind.GE):k(o.TokenKind.GT);break;case"<":E(o.TokenKind.LE)?y(o.TokenKind.LE):k(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p("0"===e);break;case" ":case"\t":case"\r":case"\n":case"\0":l+=1;break;case"'":s();break;case'"':d();break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+n+") at position "+l};default:throw{name:"SpelParseException",message:"Cannot handle character '"+e+"' in expression ("+n+") at position "+l}}}(),c}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var r=t(2);function o(e,n,t,r){this.kind=e,this.startPos=t,this.endPos=r,n&&(this.data=n)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var e="[";return e+=this.kind.toString(),this.kind.hasPayload()&&(e+=":"+this.data),e+="]",e+="("+this.startPos+","+this.endPos+")"},o.prototype.isIdentifier=function(){return this.kind===r.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===r.TokenKind.GT||this.kind===r.TokenKind.GE||this.kind===r.TokenKind.LT||this.kind===r.TokenKind.LE||this.kind===r.TokenKind.EQ||this.kind===r.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(r.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(r.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(r.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var r=t(0);n.BooleanLiteral={create:function(e,n){var t=r.SpelNode.create("boolean",n);return t.getValue=function(){return e},t.setValue=function(n){return e=n},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var r=t(0);n.NumberLiteral={create:function(e,n){var t=r.SpelNode.create("number",n);return t.getValue=function(){return e},t.setValue=function(n){return e=n},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var r=t(0);n.StringLiteral={create:function(e,n){var t,o=r.SpelNode.create("string",n);return("'"===(t=e)[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1])&&(t=t.substring(1,t.length-1)),e=t.replace(/''/g,"'").replace(/""/g,'"'),o.getValue=function(){return e},o.setValue=function(n){return e=n},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var r=t(0);n.NullLiteral={create:function(e,n){var t=r.SpelNode.create("null",n);return t.getValue=function(){return null},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var r=t(0),o=t(1);n.FunctionReference={create:function(e,n,t){var i=r.SpelNode.create("function",n);return i.getRaw=function(){return{functionName:e,args:t}},i.getValue=function(n){var r=n.locals||{},i=n.rootContext,a=[];if(t.forEach((function(e){var t=n.activeContext;n.activeContext=new o.Stack,n.activeContext.push(n.rootContext),a.push(e.getValue(n)),n.activeContext=t})),r[e])return r[e].apply(i,a);throw{name:"FunctionDoesNotExistException",message:"Function '"+e+"' does not exist."}},i}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var r=t(0),o=t(1);n.MethodReference={create:function(e,n,t,i){var a=r.SpelNode.create("method",t);return a.getRaw=function(){return{methodName:n,args:i}},a.getValue=function(t){var r,a=t.activeContext.peek(),u=[];if(!a)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+n+"' for an undefined context."};function l(t){if(null==t){if(e)return null;throw{name:"NullPointerException",message:"Method "+n+" does not exist."}}return t}if(i.forEach((function(e){var n=t.activeContext;t.activeContext=new o.Stack,t.activeContext.push(t.rootContext),u.push(e.getValue(t)),t.activeContext=n})),"get"===n.substr(0,3)&&!a[n])return l(a[n.charAt(3).toLowerCase()+n.substring(4)]);if("set"===n.substr(0,3)&&!a[n])return a[n.charAt(3).toLowerCase()+n.substring(4)]=u[0];if(Array.isArray(a)){if("size"===n)return a.length;if("contains"===n)return a.includes(u[0])}return(r=l(a[n]))?r.apply(a,u):null},a}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var r=t(0);n.PropertyReference={create:function(e,n,t){var o=r.SpelNode.create("property",t);return o.getRaw=function(){return n},o.getValue=function(t){var r=t.activeContext.peek();if(!r){if(e)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+n+"' for an undefined context."}}if(void 0===r[n]||null===r[n]){if(e)return null;if("size"===n&&Array.isArray(r))return r.length;throw{name:"NullPointerException",message:"Property '"+n+"' does not exist."}}return r[n]},o.setValue=function(e,t){var r=t.activeContext.peek();if(!r)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+n+"' for an undefined context."};return r[n]=e},o.getName=function(){return n},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var r=t(0);n.VariableReference={create:function(e,n){var t=r.SpelNode.create("variable",n);return t.getRaw=function(){return e},t.getValue=function(n){var t=n.activeContext.peek(),r=n.locals;if(!t)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+e+"' for an undefined context."};return"this"===e?t:"root"===e?n.rootContext:r[e]},t.setValue=function(n,t){return t.locals[e]=n},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var r=t(0);n.CompoundExpression={create:function(e,n){var t=r.SpelNode.create.apply(null,["compound",e].concat(n));function o(e){var n,r=t.getChildren().length;for(n=0;n<r;n+=1)"indexer"===t.getChildren()[n].getType()?e.activeContext.push(e.activeContext.peek()[t.getChildren()[n].getValue(e)]):e.activeContext.push(t.getChildren()[n].getValue(e));return function(){for(n=0;n<r;n+=1)e.activeContext.pop()}}return t.getValue=function(e){var n;if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var t=o(e);return n=e.activeContext.peek(),t(),n},t.setValue=function(e,n){var r=o(n),i=t.getChildren().length;return n.activeContext.pop(),e=t.getChildren()[i-1].setValue(e,n),n.activeContext.push(null),r(),e},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var r=t(0),o=t(1);n.Indexer={create:function(e,n){var t=r.SpelNode.create.apply(null,["indexer",e].concat(n));return t.getValue=function(e){var n,r,i=e.activeContext,a=t.getChildren().length;if(e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(n=0;n<a;n+=1)e.activeContext.push(t.getChildren()[n].getValue(e));for(r=e.activeContext.peek(),n=0;n<a;n+=1)e.activeContext.pop();return e.activeContext=i,r},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var r=t(0);n.Assign={create:function(e,n,t){var o=r.SpelNode.create("assign",e,n,t);return o.getValue=function(e){if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+n.getValue(e)+"' for an undefined context."};return n.setValue(t.getValue(e),e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var r=t(0);n.OpEQ={create:function(e,n,t){var o=r.SpelNode.create("op-eq",e,n,t);return o.getValue=function(e){return n.getValue(e)===t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var r=t(0);n.OpNE={create:function(e,n,t){var o=r.SpelNode.create("op-ne",e,n,t);return o.getValue=function(e){return n.getValue(e)!==t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var r=t(0);n.OpGE={create:function(e,n,t){var o=r.SpelNode.create("op-ge",e,n,t);return o.getValue=function(e){return n.getValue(e)>=t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var r=t(0);n.OpGT={create:function(e,n,t){var o=r.SpelNode.create("op-gt",e,n,t);return o.getValue=function(e){return n.getValue(e)>t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var r=t(0);n.OpLE={create:function(e,n,t){var o=r.SpelNode.create("op-le",e,n,t);return o.getValue=function(e){return n.getValue(e)<=t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var r=t(0);n.OpLT={create:function(e,n,t){var o=r.SpelNode.create("op-lt",e,n,t);return o.getValue=function(e){return n.getValue(e)<t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var r=t(0);n.OpPlus={create:function(e,n,t){var o=r.SpelNode.create("op-plus",e,n,t);return o.getValue=function(e){return t?n.getValue(e)+t.getValue(e):+n.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var r=t(0);n.OpMinus={create:function(e,n,t){var o=r.SpelNode.create("op-minus",e,n,t);return o.getValue=function(e){return t?n.getValue(e)-t.getValue(e):-n.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var r=t(0);n.OpMultiply={create:function(e,n,t){var o=r.SpelNode.create("op-multiply",e,n,t);return o.getValue=function(e){var r=n.getValue(e),o=t.getValue(e);if("number"==typeof r&&"number"==typeof o)return r*o;if("string"==typeof r&&"number"==typeof o){for(var i="",a=0;a<o;a+=1)i+=r;return i}return null},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var r=t(0);n.OpDivide={create:function(e,n,t){var o=r.SpelNode.create("op-divide",e,n,t);return o.getValue=function(e){return n.getValue(e)/t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var r=t(0);n.OpModulus={create:function(e,n,t){var o=r.SpelNode.create("op-modulus",e,n,t);return o.getValue=function(e){return n.getValue(e)%t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var r=t(0);n.OpPower={create:function(e,n,t){var o=r.SpelNode.create("op-power",e,n,t);return o.getValue=function(e){return Math.pow(n.getValue(e),t.getValue(e))},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var r=t(0);n.OpInc={create:function(e,n,t){var o=r.SpelNode.create("op-inc",e,t);return o.getValue=function(e){var r=t.getValue(e);return t.setValue(r+1,e),n?r:r+1},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var r=t(0);n.OpDec={create:function(e,n,t){var o=r.SpelNode.create("op-dec",e,t);return o.getValue=function(e){var r=t.getValue(e);return t.setValue(r-1,e),n?r:r-1},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var r=t(0);n.OpNot={create:function(e,n){var t=r.SpelNode.create("op-not",e,n);return t.getValue=function(e){return!n.getValue(e)},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var r=t(0);n.OpAnd={create:function(e,n,t){var o=r.SpelNode.create("op-and",e,n,t);return o.getValue=function(e){return!!n.getValue(e)&&!!t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var r=t(0);n.OpOr={create:function(e,n,t){var o=r.SpelNode.create("op-or",e,n,t);return o.getValue=function(e){return!!n.getValue(e)||!!t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var r=t(0);n.OpMatches={create:function(e,n,t){var o=r.SpelNode.create("matches",e,n,t);return o.getValue=function(e){var r=n.getValue(e),o=t.getValue(e);try{return!!new RegExp(o).exec(r)}catch(i){throw{name:"EvaluationException",message:i.toString()}}},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var r=t(0);n.Ternary={create:function(e,n,t,o){var i=r.SpelNode.create("ternary",e,n,t,o);return i.getValue=function(e){return n.getValue(e)?t.getValue(e):o.getValue(e)},i}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var r=t(0);n.Elvis={create:function(e,n,t){var o=r.SpelNode.create("elvis",e,n,t);return o.getValue=function(e){return null!==n.getValue(e)?n.getValue(e):t.getValue(e)},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var r=t(0);n.InlineList={create:function(e,n){var t=r.SpelNode.create("list",e),o=[].concat(n||[]);return t.getRaw=function(){return o},t.getValue=function(e){return o.map((function(n){return n.getValue(e)}))},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var r=t(0);n.InlineMap={create:function(e,n){var t=r.SpelNode.create("map",e),o=[].concat(n||[]);return t.getValue=function(e){var n=!0,t=null,r={};return o.forEach((function(o){n?t="property"===o.getType()?o.getName():o.getValue(e):r[t]=o.getValue(e),n=!n})),r},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t(0);function i(e,n,t){var r;return t.activeContext.push(e),r=n.getValue(t),t.activeContext.pop(),r}n.Selection={create:function(e,n,t,a){var u=o.SpelNode.create("selection",t,a);return u.getValue=function(e){var t=e.activeContext.peek();if(t){if(Array.isArray(t))return function(e,n,t,r){var o=e.filter((function(e){return i(e,t,r)}));switch(n){case"ALL":return o;case"FIRST":return o[0]||null;case"LAST":return o.length?o[o.length-1]:null}}(t,n,a,e);if("object"===(void 0===t?"undefined":r(t)))return function(e,n,t,r){var o,a,u={},l=[],c={};for(a in e)e.hasOwnProperty(a)&&i(o={key:a,value:e[a]},t,r)&&l.push(o);switch(n){case"ALL":return l.forEach((function(e){u[e.key]=e.value})),u;case"FIRST":return l.length?(c[l[0].key]=l[0].value,c):null;case"LAST":return l.length?(c[l[l.length-1].key]=l[l.length-1].value,c):null}l.forEach((function(e){u[e.key]=e.value}))}(t,n,a,e)}return null},u},FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t(0);function i(e,n,t){return e.map((function(e){var r;return t.activeContext.push(e),r=n.getValue(t),t.activeContext.pop(),r}))}n.Projection={create:function(e,n,t){var a=o.SpelNode.create("projection",n,t);return a.getValue=function(e){var n,o=e.activeContext.peek(),a=[];if(Array.isArray(o))return i(o,t,e);if("object"===(void 0===o?"undefined":r(o))){for(n in o)o.hasOwnProperty(n)&&a.push(o[n]);return i(a,t,e)}return null},a}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var r=t(0);n.OpInstanceof={create:function(e,n,t){var o=r.SpelNode.create("instanceof",e,n,t);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var r=t(0);n.OpBetween={create:function(e,n,t){var o=r.SpelNode.create("between",e,n,t);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},o}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var r=t(0);n.TypeReference={create:function(e,n,t){return(n=r.SpelNode.create("typeref",e,n)).getValue=function(e){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},n}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var r=t(0);n.BeanReference={create:function(e,n){var t=r.SpelNode.create("beanref",e);return t.getValue=function(e){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var r=t(0);n.Identifier={create:function(e,n){var t=r.SpelNode.create("identifier",n);return t.getRaw=function(){return e},t.getValue=function(e){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var r=t(0);n.QualifiedIdentifier={create:function(e,n){var t=r.SpelNode.create.apply(r.SpelNode,["qualifiedidentifier",e].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(n)));return t.getRaw=function(){return n.map((function(e){return e.getRaw()}))},t.getValue=function(e){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},t}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var r=t(0),o=t(1);n.ConstructorReference={create:function(e,n,t){var i,a=void 0!==t;a?i=n.length&&n[0]&&"number"===n[0].getType()?n[0].getValue():null:(t=n,n=void 0);var u,l=(u=t,Array.isArray(u)?u:Array.from(u)),c=(l[0],l.slice(1)),s=r.SpelNode.create.apply(r.SpelNode,["constructorref",e].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(t)));return s.getRaw=function(){return i},s.getValue=function(e){if(a&&c.length<=1){var n=[];return c.forEach((function(t){var r=e.activeContext;e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),n.push(t.getValue(e)),e.activeContext=r})),1===c.length?n[0]:i?new Array(i):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},s}}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext={create:function(e,n){var t={};return t.authentication=e||{},t.principal=n||{},t.hasRole=function(e){var n=!1;return!!e&&!(!t.authentication&&!Array.isArray(t.authentication.authorities))&&(t.authentication.authorities.forEach((function(t){t.authority.toLowerCase()===e.toLowerCase()&&(n=!0)})),n)},t.hasPermission=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length)return t.hasRole(e[0])},t}}}])},"object"==typeof t&&"object"==typeof a?a.exports=u():(o=[],void 0===(i="function"==typeof(r=u)?r.apply(n,o):r)||(e.exports=i))}},function(){return u||(0,a[d(a)[0]])((u={exports:{}}).exports,u),u.exports}),T={};((e,n)=>{for(var t in n)c(e,t,{get:n[t],enumerable:!0})})(T,{parseSpEL:()=>$}),e.exports=(e=>v(c({},"__esModule",{value:!0}),e))(T);var h=((e,n,t)=>(t=null!=e?l(p(e)):{},v(!n&&e&&e.__esModule?t:c(t,"default",{value:e,enumerable:!0}),e)))(g()),E=t(34362),k=(new RegExp(E.numericRegex.source.replace(/^\^/,"^\\s*").replace(/\$$/,"\\s*$")),e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype),y=e=>k(e)&&"rules"in e&&Array.isArray(e.rules),O=t(67267),S=e=>k(e)&&"name"in e&&"string"==typeof e.name,N=e=>k(e)&&"value"in e&&"string"==typeof e.value;function m(e,n){return(0,O.produce)((e=>{const t={};let r=!!n;if(S(e)&&!N(e)?(t.value=e.name,r=!0):!S(e)&&N(e)&&(t.name=e.value,r=!0),r)return Object.assign({},n,e,t)}))(e)}var K=e=>Array.isArray(e)&&e.length>0&&k(e[0])&&"options"in e[0]&&k(e[0].options[0])&&("name"in e[0].options[0]||"value"in e[0].options[0]),L=e=>(e=>{const n=new Set,t=[];return e.forEach((e=>{n.has(e.value??e.name)||(n.add(e.value??e.name),t.push(e))})),e.length===t.length?e:t})((e=>Array.isArray(e)&&e.length>0&&k(e[0])&&"options"in e[0])(e)?e.flatMap((e=>e.options)):e),R=(e,n,t)=>{const r=m(e),o=m(t);return r.value!==o.value&&("string"==typeof r.comparator?r[r.comparator]===o[r.comparator]:r.comparator?.(o,n)??!1)},A=(e,n,t)=>{if(!e.comparator){const t=n=>(n.value??n.name)!==(e.value??e.name);return K(n)?n.map((e=>({...e,options:e.options.filter(t)}))):n.filter(t)}return K(n)?n.map((n=>({...n,options:n.options.filter((n=>R(e,t,n)))}))).filter((e=>e.options.length>0)):n.filter((n=>R(e,t,n)))},C=["value"],P={name:"name",value:"name",valueSources:null,label:"label"},_=(e,n,t)=>{const r=e?m(e):P;if(r.valueSources)return"function"==typeof r.valueSources?r.valueSources(n):r.valueSources;if(t){const e=t(r.value,n,{fieldData:m(r)});if(e)return e}return C},b=e=>{const n=e?Array.isArray(e)?e:Object.keys(e).map((n=>({...e[n],name:n}))).sort(((e,n)=>e.label.localeCompare(n.label))):[];return L(n)};var I=e=>"property"===e.getType()||"variable"===e.getType(),x=e=>"op-and"===e.type,V=e=>"op-or"===e.type,M=e=>"matches"===e.type&&(w(e.children[0])&&j(e.children[1])||w(e.children[1])&&j(e.children[0])||w(e.children[0])&&w(e.children[1])),w=e=>"property"===e.type||"variable"===e.type||"compound"===e.type,j=e=>"string"===e.type,D=e=>"op-eq"===e.type||"op-ne"===e.type||"op-gt"===e.type||"op-ge"===e.type||"op-lt"===e.type||"op-le"===e.type,F=e=>(e=>"number"===e.type)(e)||j(e)||(e=>"boolean"===e.type)(e)||(e=>"null"===e.type)(e),U=e=>"between"===e.type&&w(e.children[0])&&"list"===e.children[1].type&&e.children[1].children.length>=2&&e.children[1].children.every(F),G=e=>"between"===e.type&&w(e.children[0])&&"list"===e.children[1].type&&e.children[1].children.length>=2&&e.children[1].children.every(w),B=e=>{const n=e.getType(),t="compound"===(r=e).getType()&&r.getChildren().every(I)?e.getChildren().map((e=>I(e)?e.getRaw():"")).join("."):I(e)?e.getRaw():null;var r;const o="compound"===n?[]:((e=>"list"===e.getType())(e)?e.getRaw:e.getChildren)().map(B);return{type:"compound"!==n||t?n:"invalid",children:o,startPosition:e.getStartPosition(),endPosition:e.getEndPosition(),value:0===e.getValue.length?e.getValue():"N/A",identifier:t}},Q=(e,n)=>{if(n){if("op-lt"===e)return">";if("op-le"===e)return">=";if("op-gt"===e)return"<";if("op-ge"===e)return"<="}return{"op-eq":"=","op-ge":">=","op-gt":">","op-le":"<=","op-lt":"<","op-ne":"!="}[e]},Y=e=>{const n=e.type.substring(3),[t,r]=e.children;return"op-and"===t.type||"op-or"===t.type?[...Y(t),n,r]:[t,n,r]},H=e=>{const n=Y(e),t=[];let r=0;for(let o=0;o<n.length;o+=2)if("and"===n[o+1]){r=o;let e=1;for(;"and"===n[r+e];)o+=2,e+=2;const i=n.slice(r,o+1);t.push(i),o-=2}else"or"===n[o+1]&&(0===o||o===n.length-3?(0!==o&&"or"!==n[o-1]||t.push(n[o]),t.push(n[o+1]),o===n.length-3&&t.push(n[o+2])):("and"===n[o-1]||t.push(n[o]),t.push(n[o+1])));return 1===t.length&&Array.isArray(t[0])?t[0]:t};function $(e,n={}){const{fields:t,independentCombinators:r,listsAsArrays:o}=n,i=!!r,a=b(t),u=(e,t,r)=>function(e){const{fieldsFlat:n,fieldName:t,operator:r,subordinateFieldName:o,getValueSources:i}=e;if(0===n.length)return!0;let a=!1;const u=m(n.find((e=>e.name===t)));u&&(a=!(!o&&"notNull"!==r&&"null"!==r&&!_(u,r,i).some((e=>"value"===e))),a&&o)&&(_(u,r,i).some((e=>"field"===e))&&t!==o&&A(u,n,r).find((e=>e.name===o))||(a=!1));return a}({fieldName:e,fieldsFlat:a,operator:t,subordinateFieldName:r,getValueSources:n?.getValueSources}),l={rules:[],...i?{}:{combinator:"and"}},c=(e,n={})=>{const{forwardNegation:t,groupOnlyIfNecessary:r}=n;if("op-not"===e.type){const n=c(e.children[0]);if(n)return y(n)||"contains"!==n.operator&&"beginsWith"!==n.operator&&"endsWith"!==n.operator?i?{rules:[n],not:!0}:{combinator:"and",rules:[n],not:!0}:{...n,operator:`doesNot${n.operator[0].toUpperCase()}${n.operator.slice(1).replace("s","")}`}}else if(x(e)||V(e)){if(i){const n=Y(e).map((e=>"string"==typeof e?e:c(e)));return n.every(Boolean)?{rules:n}:null}const n=H(e),t=n[1],r=n.filter((e=>Array.isArray(e)||!!e&&"string"!=typeof e&&"type"in e)).map((e=>Array.isArray(e)?e.filter((n=>!!e&&"string"!=typeof n&&"type"in n)):e)).map((e=>Array.isArray(e)?{combinator:"and",rules:e.map((e=>c(e))).filter(Boolean)}:c(e))).filter(Boolean);if(r.length>0)return{combinator:t,rules:r}}else if(M(e)){const[n,t]=e.children;let r,o="",i="";if(w(n)?(o=n.identifier,w(t)?(i=t.identifier,r="field"):F(t)&&(i=t.value)):w(t)&&F(n)&&(o=t.identifier,i=n.value),/^[^^].*[^$]$/.test(i)){if(u(o,"contains"))return{field:o,operator:"contains",value:i,...r?{valueSource:r}:{}}}else if(/^\^.*[^$]/.test(i)){if(u(o,"beginsWith"))return{field:o,operator:"beginsWith",value:i.replace(/^\^/,"")}}else if(/[^^].*\$/.test(i)&&u(o,"endsWith"))return{field:o,operator:"endsWith",value:i.replace(/\$$/,"")}}else if(U(e)||G(e)){let n,t=[null,null];const[{identifier:r},{children:[i,a]}]=e.children;if(U(e)?t=[i.value,a.value]:(t=[i.identifier,a.identifier],n="field"),r&&t.every((e=>u(r,"between","field"===n?e:void 0)))){const e=t[0]<t[1]||"field"===n?t:[t[1],t[0]],i=o?e:e.join(",");return n?{field:r,operator:"between",value:i,valueSource:n}:{field:r,operator:"between",value:i}}}else if(D(e)){let n,t,r=null,o=!1;const[i,a]=e.children;w(i)?(r=i.identifier,w(a)?(n=a.identifier,t="field"):F(a)&&(n=a.value)):w(a)&&F(i)&&(o=!0,r=a.identifier,n=i.value);let l=Q(e.type,o);if(null!==n||"="!==l&&"!="!==l||(l="="===l?"null":"notNull"),r&&u(r,l,"field"===t?n:void 0)&&void 0!==n)return t?{field:r,operator:l,value:n,valueSource:t}:{field:r,operator:l,value:n}}return null};let s;try{s=h.SpelExpressionEvaluator.compile(e)._compiledExpression}catch(f){return l}const d=B(s),p=c(d);return p?y(p)?p:{rules:[p],...i?{}:{combinator:"and"}}:l}}}]);