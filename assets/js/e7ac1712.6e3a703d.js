"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2218],{48935:(e,t,n)=>{n.d(t,{Z:()=>fe});var r=n(83117),a=n(88746),o=n(76775),l=n(9320),i=n(73275),s=n(19260),u=n(30433),m=n(65559),d=n(86010),c=n(17563),p=n(67294),b=n(61236);const h={showCombinatorsBetweenRules:!1,showNotToggle:!1,showCloneButtons:!1,showLockButtons:!1,resetOnFieldChange:!0,resetOnOperatorChange:!1,autoSelectField:!0,autoSelectOperator:!0,addRuleToNewGroups:!1,validateQuery:!1,independentCombinators:!1,listsAsArrays:!1,enableDragAndDrop:!1,disabled:!1,debugMode:!1,parseNumbers:!1,justifiedLayout:!1},g=["showCombinatorsBetweenRules","showNotToggle","showCloneButtons","showLockButtons","resetOnFieldChange","resetOnOperatorChange","autoSelectField","autoSelectOperator","addRuleToNewGroups","validateQuery","independentCombinators","listsAsArrays","enableDragAndDrop","disabled","debugMode","parseNumbers","justifiedLayout"],y={showCombinatorsBetweenRules:{link:"/docs/api/querybuilder#showcombinatorsbetweenrules",label:"Combinators between rules",title:"Display combinator (and/or) selectors between rules instead of in the group header"},showNotToggle:{link:"/docs/api/querybuilder#shownottoggle",label:'Show "not" toggle',title:'Display a checkbox to invert a group\'s rules (labelled "Not" by default)'},showCloneButtons:{link:"/docs/api/querybuilder#showclonebuttons",label:"Show clone buttons",title:"Display buttons to clone rules and groups"},resetOnFieldChange:{link:"/docs/api/querybuilder#resetonfieldchange",label:"Reset on field change",title:"Operator and value will be reset when a rule's field selection changes"},resetOnOperatorChange:{link:"/docs/api/querybuilder#resetonoperatorchange",label:"Reset on operator change",title:"The value will reset when the operator changes"},autoSelectField:{link:"/docs/api/querybuilder#autoselectfield",label:"Auto-select field",title:"The default field will be automatically selected for new rules"},autoSelectOperator:{link:"/docs/api/querybuilder#autoselectoperator",label:"Auto-select operator",title:"The default operator will be automatically selected for new rules"},addRuleToNewGroups:{link:"/docs/api/querybuilder#addruletonewgroups",label:"Add rule to new groups",title:"A rule will be automatically added to new groups"},validateQuery:{link:"/docs/api/validation",label:"Use validation",title:'The validator function(s) will be used to bold the "+Rule" button for empty groups and put a purple background on empty text fields and emtpy groups'},independentCombinators:{link:"/docs/api/querybuilder#independentcombinators",label:"Independent combinators",title:"Combinators between rules can be independently updated"},listsAsArrays:{link:"/docs/api/querybuilder#listsasarrays",label:"Lists as arrays",title:"Lists will be stored as arrays instead of comma-separated strings"},enableDragAndDrop:{link:"/docs/api/querybuilder#enabledraganddrop",label:"Drag-and-drop enabled",title:"Rules and groups can be reordered and dragged to different groups"},disabled:{link:"/docs/api/querybuilder#disabled",label:"Disabled",title:"Disable all components within the query builder"},showLockButtons:{link:"/docs/api/querybuilder#showlockbuttons",label:"Show lock buttons",title:"Display buttons to lock/disable rules and groups"},debugMode:{link:"/docs/api/querybuilder#debugmode",label:"Debug mode",title:"Enable debug logging for QueryBuilder and React DnD (see console)"},parseNumbers:{link:"/docs/api/export#parsing-numbers",label:"Parse numbers",title:"Parse real numbers from strings in rule values"},justifiedLayout:{link:"",label:"Justified layout",title:'Add custom CSS to push the "clone", "lock", and "remove" buttons to the right edge'}},f=g.sort(((e,t)=>y[e].label.localeCompare(y[t].label))),v=((0,b.uP)({combinator:"and",rules:[]}),{id:""+Math.random(),combinator:"and",not:!1,rules:[{id:""+Math.random(),field:"firstName",value:"Stev",operator:"beginsWith"},{id:""+Math.random(),field:"lastName",value:"Vai, Vaughan",operator:"in"},{id:""+Math.random(),field:"age",operator:">",value:"28"},{id:""+Math.random(),combinator:"or",rules:[{id:""+Math.random(),field:"isMusician",operator:"=",value:!0},{id:""+Math.random(),field:"instrument",operator:"=",value:"Guitar"}]},{field:"groupedField1",operator:"=",value:"groupedField4",valueSource:"field"},{field:"birthdate",value:"1969-06-01",operator:"<"}]}),E=(0,b.uP)(v),k=[["sql","SQL","https://en.wikipedia.org/wiki/SQL"],["parameterized","SQL (parameterized)","https://en.wikipedia.org/wiki/SQL"],["parameterized_named","SQL (named parameters)","https://en.wikipedia.org/wiki/SQL"],["json_without_ids","JSON (no identifiers)","https://en.wikipedia.org/wiki/JSON"],["json","JSON","https://en.wikipedia.org/wiki/JSON"],["mongodb","MongoDB","https://www.mongodb.com/"],["cel","CEL","https://github.com/google/cel-spec"],["spel","SpEL","https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-language-ref"],["jsonlogic","JsonLogic","https://jsonlogic.com/"]],C={default:"Default",bootstrap:"Bootstrap",material:"MUI/Material",antd:"Ant Design",chakra:"Chakra UI",bulma:"Bulma"},{default:w,...S}=C,D=["default",...(0,b.Yd)(S).sort()],B=[{label:"Percussion instruments",instruments:["Clapstick","Cowbell","Cymbal","Gong","Maraca","Marimba","Spoon","Steelpan","Tambourine","Triangle","Vibraphone","Washboard","Wood block","Wooden fish","Xylophone"]},{label:"Membranophones",instruments:["Barrel drum","Bass drum","Bongo drums","Conga","Drum","Drum kit","Jew's harp","Octaban","Samphor","Snare drum","Timpani","Tom-tom"]},{label:"Wind instruments",instruments:["Accordion","Air horn","Bagpipe","Baritone horn","Bassoon","Bazooka","Beatboxing","Blown bottle","Bugle","Clarinet","Conch","Cornet","Didgeridoo","Double bell euphonium","Doulophone","English horn","Euphonium","Flugelhorn","Flute","French horn","Harmonica","Irish flute","Jug","Kazoo","Melodeon","Mezzo-soprano","Oboe","Ocarina","Pan flute","Piccolo","Pipe organ","Recorder","Saxophone","Slide whistle","Sousaphone","Trombone","Trumpet","Tuba","Whistle"]},{label:"Stringed instruments",instruments:["Aeolian harp","Bandolin","Banjo ukulele","Cello","Chapman stick","Clavichord","Clavinet","Double bass","Dulcimer","Fiddle","Guitar","Hammered dulcimer","Harp","Harpsichord","Lute","Lyre","Maguhu","Mandola","Mandolin","Octobass","Piano","Sitar","Ukulele","Viol","Violin","Washtub bass"]},{label:"Electronic instruments",instruments:["AlphaSphere","Audiocubes","Bass pedals","Continuum Fingerboard","Croix Sonore","Denis d'or","Dubreq stylophone","Drum machine","Eigenharp","Electric guitar","Electronic keyboard","Electronic organ","EWI","Fingerboard synthesizer","Hammond organ","Keyboard","Keytar","Kraakdoos","Laser harp","Mellotron","MIDI keyboard","Omnichord","Ondes Martenot","Otamatone","Sampler","Seaboard music instrument","Skoog","Synclavier","Synthesizer","Teleharmonium","Tenori-on","Theremin","trautonium","Turntablism","Turntable"]}].map((e=>{let{label:t,instruments:n}=e;return{label:t,options:n.map((e=>({name:e,label:e})))}})),T=e=>!!e.value,O=[{name:"firstName",label:"First Name",placeholder:"Enter first name",validator:T},{name:"lastName",label:"Last Name",placeholder:"Enter last name",defaultOperator:"beginsWith",validator:T},{name:"age",label:"Age",inputType:"number",validator:T},{name:"isMusician",label:"Is a musician",valueEditorType:"checkbox",operators:b._z.filter((e=>"="===e.name)),defaultValue:!1},{name:"instrument",label:"Primary instrument",valueEditorType:"select",values:B,defaultValue:"Piano",operators:b._z.filter((e=>"="===e.name||"in"===e.name))},{name:"alsoPlaysInstruments",label:"Also plays instruments",valueEditorType:"multiselect",values:B,defaultValue:"Guitar",operators:b._z.filter((e=>"in"===e.name))},{name:"gender",label:"Gender",operators:b._z.filter((e=>"="===e.name)),valueEditorType:"radio",values:[{name:"M",label:"Male"},{name:"F",label:"Female"},{name:"O",label:"Other"}]},{name:"height",label:"Height",validator:T},{name:"job",label:"Job",validator:T},{name:"description",label:"Description",valueEditorType:"textarea"},{name:"birthdate",label:"Birth Date",inputType:"date"},{name:"datetime",label:"Show Time",inputType:"datetime-local"},{name:"alarm",label:"Daily Alarm",inputType:"time"},{name:"groupedField1",label:"Grouped Field 1",comparator:"group",group:"group1",valueSources:["field","value"]},{name:"groupedField2",label:"Grouped Field 2",comparator:"group",group:"group1",valueSources:["field","value"]},{name:"groupedField3",label:"Grouped Field 3",comparator:"group",group:"group1",valueSources:["field","value"]},{name:"groupedField4",label:"Grouped Field 4",comparator:"group",group:"group1",valueSources:["field","value"]}];var x=n(48764),q=n(27885),M=n(96336),N=n(43005),L=n(84034);const F=e=>{var t;let{s:n,...r}=e,a=null;n&&(a=(e=>{const t=x.lW.from(e,"base64"),n=q.ZP.inflate(t,{to:"string"});return JSON.parse(n)})(n));const o=Object.fromEntries(Object.entries(r).map((e=>{let[t,n]=e;return[t,"true"===n]})));return{...a,options:{...null==(t=a)?void 0:t.options,...o}}},Q=(e,t)=>{if("reset"===t.type)return h;if("all"===t.type){const e={...h};for(const t of g)e[t]="disabled"!==t&&"independentCombinators"!==t;return e}if("replace"===t.type)return t.payload;const{optionName:n,value:r}=t.payload;return{...e,[n]:r}},I=e=>"sql"===e||"cel"===e||"spel"===e?e:"json",A=L.Z.format("import type { Field, RuleType } from 'react-querybuilder';\nimport { defaultOperators } from 'react-querybuilder';\nimport { musicalInstruments } from './musicalInstruments';\n\nexport const validator = (r: RuleType) => !!r.value;\n\nexport const fields: Field[] = [\n  {\n    name: 'firstName',\n    label: 'First Name',\n    placeholder: 'Enter first name',\n    validator,\n  },\n  {\n    name: 'lastName',\n    label: 'Last Name',\n    placeholder: 'Enter last name',\n    defaultOperator: 'beginsWith',\n    validator,\n  },\n  { name: 'age', label: 'Age', inputType: 'number', validator },\n  {\n    name: 'isMusician',\n    label: 'Is a musician',\n    valueEditorType: 'checkbox',\n    operators: defaultOperators.filter(op => op.name === '='),\n    defaultValue: false,\n  },\n  {\n    name: 'instrument',\n    label: 'Primary instrument',\n    valueEditorType: 'select',\n    values: musicalInstruments,\n    defaultValue: 'Piano',\n    operators: defaultOperators.filter(op => op.name === '=' || op.name === 'in'),\n  },\n  {\n    name: 'alsoPlaysInstruments',\n    label: 'Also plays instruments',\n    valueEditorType: 'multiselect',\n    values: musicalInstruments,\n    defaultValue: 'Guitar',\n    operators: defaultOperators.filter(op => op.name === 'in'),\n  },\n  {\n    name: 'gender',\n    label: 'Gender',\n    operators: defaultOperators.filter(op => op.name === '='),\n    valueEditorType: 'radio',\n    values: [\n      { name: 'M', label: 'Male' },\n      { name: 'F', label: 'Female' },\n      { name: 'O', label: 'Other' },\n    ],\n  },\n  { name: 'height', label: 'Height', validator },\n  { name: 'job', label: 'Job', validator },\n  { name: 'description', label: 'Description', valueEditorType: 'textarea' },\n  { name: 'birthdate', label: 'Birth Date', inputType: 'date' },\n  { name: 'datetime', label: 'Show Time', inputType: 'datetime-local' },\n  { name: 'alarm', label: 'Daily Alarm', inputType: 'time' },\n  {\n    name: 'groupedField1',\n    label: 'Grouped Field 1',\n    comparator: 'group',\n    group: 'group1',\n    valueSources: ['field', 'value'],\n  },\n  {\n    name: 'groupedField2',\n    label: 'Grouped Field 2',\n    comparator: 'group',\n    group: 'group1',\n    valueSources: ['field', 'value'],\n  },\n  {\n    name: 'groupedField3',\n    label: 'Grouped Field 3',\n    comparator: 'group',\n    group: 'group1',\n    valueSources: ['field', 'value'],\n  },\n  {\n    name: 'groupedField4',\n    label: 'Grouped Field 4',\n    comparator: 'group',\n    group: 'group1',\n    valueSources: ['field', 'value'],\n  },\n];\n",{filepath:"fields.ts",plugins:[N.Z],singleQuote:!0}),R=L.Z.format("// Adapted from https://en.wikipedia.org/wiki/List_of_musical_instruments\nimport type { OptionGroup } from 'react-querybuilder';\n\nexport const musicalInstruments: OptionGroup[] = [\n  {\n    label: 'Percussion instruments',\n    instruments: [\n      'Clapstick',\n      'Cowbell',\n      'Cymbal',\n      'Gong',\n      'Maraca',\n      'Marimba',\n      'Spoon',\n      'Steelpan',\n      'Tambourine',\n      'Triangle',\n      'Vibraphone',\n      'Washboard',\n      'Wood block',\n      'Wooden fish',\n      'Xylophone',\n    ],\n  },\n  {\n    label: 'Membranophones',\n    instruments: [\n      'Barrel drum',\n      'Bass drum',\n      'Bongo drums',\n      'Conga',\n      'Drum',\n      'Drum kit',\n      \"Jew's harp\",\n      'Octaban',\n      'Samphor',\n      'Snare drum',\n      'Timpani',\n      'Tom-tom',\n    ],\n  },\n  {\n    label: 'Wind instruments',\n    instruments: [\n      'Accordion',\n      'Air horn',\n      'Bagpipe',\n      'Baritone horn',\n      'Bassoon',\n      'Bazooka',\n      'Beatboxing',\n      'Blown bottle',\n      'Bugle',\n      'Clarinet',\n      'Conch',\n      'Cornet',\n      'Didgeridoo',\n      'Double bell euphonium',\n      'Doulophone',\n      'English horn',\n      'Euphonium',\n      'Flugelhorn',\n      'Flute',\n      'French horn',\n      'Harmonica',\n      'Irish flute',\n      'Jug',\n      'Kazoo',\n      'Melodeon',\n      'Mezzo-soprano',\n      'Oboe',\n      'Ocarina',\n      'Pan flute',\n      'Piccolo',\n      'Pipe organ',\n      'Recorder',\n      'Saxophone',\n      'Slide whistle',\n      'Sousaphone',\n      'Trombone',\n      'Trumpet',\n      'Tuba',\n      'Whistle',\n    ],\n  },\n  {\n    label: 'Stringed instruments',\n    instruments: [\n      'Aeolian harp',\n      'Bandolin',\n      'Banjo ukulele',\n      'Cello',\n      'Chapman stick',\n      'Clavichord',\n      'Clavinet',\n      'Double bass',\n      'Dulcimer',\n      'Fiddle',\n      'Guitar',\n      'Hammered dulcimer',\n      'Harp',\n      'Harpsichord',\n      'Lute',\n      'Lyre',\n      'Maguhu',\n      'Mandola',\n      'Mandolin',\n      'Octobass',\n      'Piano',\n      'Sitar',\n      'Ukulele',\n      'Viol',\n      'Violin',\n      'Washtub bass',\n    ],\n  },\n  {\n    label: 'Electronic instruments',\n    instruments: [\n      'AlphaSphere',\n      'Audiocubes',\n      'Bass pedals',\n      'Continuum Fingerboard',\n      'Croix Sonore',\n      \"Denis d'or\",\n      'Dubreq stylophone',\n      'Drum machine',\n      'Eigenharp',\n      'Electric guitar',\n      'Electronic keyboard',\n      'Electronic organ',\n      'EWI',\n      'Fingerboard synthesizer',\n      'Hammond organ',\n      'Keyboard',\n      'Keytar',\n      'Kraakdoos',\n      'Laser harp',\n      'Mellotron',\n      'MIDI keyboard',\n      'Omnichord',\n      'Ondes Martenot',\n      'Otamatone',\n      'Sampler',\n      'Seaboard music instrument',\n      'Skoog',\n      'Synclavier',\n      'Synthesizer',\n      'Teleharmonium',\n      'Tenori-on',\n      'Theremin',\n      'trautonium',\n      'Turntablism',\n      'Turntable',\n    ],\n  },\n].map(({ label, instruments }) => ({\n  label,\n  options: instruments.map(s => ({ name: s, label: s })),\n}));\n",{filepath:"musicalInstrumentsCode.ts",plugins:[N.Z],singleQuote:!0}),G="demoLayout_QhYR",z="demoSidebarHeader_WVGK",P="demoOption_DiUA",_="demoOptionCommands_K7rK",j="demoImportCommands_fM9N",Z="wsPreWrap_DXzD";var W=n(70524),J=n(83253),H=n.n(J);const V=document.body;function K(e){let{heading:t,isOpen:n,setIsOpen:r,code:a,setCode:o,error:l,loadQueryFromCode:i,notes:s}=e;const{colorMode:u}=(0,W.I)();return p.createElement(H(),{appElement:V,contentLabel:t,isOpen:n,onRequestClose:()=>r(!1),style:(m="dark"===u,{overlay:{backgroundColor:m?"rgba(0 0 0 / 75%)":"rgba(255 255 255 / 75%)",display:"flex",alignContent:"flex-start",justifyContent:"center",alignItems:"flex-start",paddingTop:"calc(var(--ifm-navbar-height) + var(--ifm-global-spacing))"},content:{inset:"unset",padding:"var(--ifm-global-spacing)",maxWidth:"800px",display:"flex",flexDirection:"column",gap:"var(--ifm-global-spacing)",boxShadow:"4px 4px 12px 4px rgb(0 0 0 / 26%)",backgroundColor:m?"var(--ifm-background-color)":"#ffffff"}})},p.createElement("h3",{style:{margin:"unset"}},t,p.createElement("span",{style:{cursor:"pointer",float:"right"},onClick:()=>r(!1)},"\u2715")),p.createElement("textarea",{style:{height:160,minWidth:690,width:"100%"},spellCheck:!1,value:a,onChange:e=>o(e.target.value)}),s&&p.createElement("p",{style:{fontSize:"smaller",margin:"unset"}},s),p.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--ifm-global-spacing)"}},p.createElement("button",{type:"button",onClick:()=>i()},t),p.createElement("button",{type:"button",onClick:()=>r(!1)},"Cancel")),!!l&&p.createElement("pre",null,l));var m}function U(){return p.createElement("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"Open a live example in CodeSandbox"),p.createElement("path",{d:"M1.5 6l10.455-6L22.41 6l.09 11.95L11.955 24 1.5 18zm2.088 2.481v4.757l3.345 1.86v3.516l3.972 2.296v-8.272zm16.739 0l-7.317 4.157v8.272l3.972-2.296V15.1l3.345-1.861V8.48zM4.634 6.601l7.303 4.144 7.32-4.18-3.871-2.197-3.41 1.945-3.43-1.968L4.633 6.6z"}))}function X(){return p.createElement("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"Open a live example in StackBlitz"),p.createElement("path",{d:"M10.797 14.182H3.635L16.728 0l-3.525 9.818h7.162L7.272 24l3.524-9.818Z"}))}const $="demoNav_zlnx",Y="demoNavPackageLinks_wCVv",ee="demoNavStyleLinks_fSsZ",te="demoNavPackageLink_vuDC";function ne(e){let{variant:t,compressedState:n,dnd:r}=e;const a=(0,o.TH)(),l=(0,p.useMemo)((()=>["react-querybuilder",..."default"===t?[]:["@react-querybuilder/"+t],...r?["@react-querybuilder/dnd"]:[]]),[r,t]);return p.createElement("div",{className:$},p.createElement("div",{className:Y},p.createElement("a",{href:"https://codesandbox.io/s/github/react-querybuilder/react-querybuilder/tree/main/examples/"+("default"===t?"basic-ts":t)+"?file=/src/App.tsx",className:"svg-font-color",target:"_blank",rel:"noreferrer",style:{minWidth:"1rem"}},p.createElement(U,null)),p.createElement("a",{href:"https://stackblitz.com/github/react-querybuilder/react-querybuilder/tree/main/examples/"+("default"===t?"basic-ts":t)+"?file=src/App.tsx",className:"svg-font-color",target:"_blank",rel:"noreferrer",style:{minWidth:"1rem"}},p.createElement(X,null)),p.createElement("span",null,l.map(((e,t)=>p.createElement(p.Fragment,{key:e},t>0?", ":null,p.createElement("a",{href:"https://www.npmjs.com/package/"+e,target:"_blank",rel:"noreferrer",className:te},e)))))),p.createElement("div",{className:ee},D.map((e=>{if(t===e)return p.createElement("span",{key:e},C[e]);const r=a.pathname.replace(RegExp("\\/"+t+"$"),"")+("default"===e?"":"/"+e)+(n?"#s="+n:"");return p.createElement("a",{key:e,href:r},C[e])}))))}var re,ae;const oe="\u24d8",le=F(c.parse(location.hash)),ie=le.options,se=null!=(re=le.query)?re:v,ue=null!=(ae=le.queryIC)?ae:E,me="SELECT *\n  FROM my_table\n WHERE "+(0,b.x9)(se,"sql")+";",de=JSON.stringify({firstName:{$regex:"^Stev"},age:{$gt:28}},null,2),ce=JSON.stringify((0,b.x9)(se,"jsonlogic"),null,2),pe="Copy link",be=p.createElement("em",null,"SQL can either be the full ",p.createElement("code",null,"SELECT")," statement or the ",p.createElement("code",null,"WHERE")," clause by itself. Trailing semicolon is optional."),he=p.createElement("em",null,"Input must conform to the ",p.createElement("a",{href:"https://www.json.org/"},"JSON specification"),". MongoDB queries support an extended JSON format, so you may need to pre-parse query strings with a library like"," ",p.createElement("a",{href:"https://www.npmjs.com/package/mongodb-query-parser"},p.createElement("code",null,"mongodb-query-parser")),"before submitting them here or passing them to ",p.createElement("code",null,"parseMongoDB"),"."),ge=p.createElement("em",null,"Only strings that evaluate to JavaScript objects when processed with ",p.createElement("code",null,"JSON.parse")," ","will translate into queries."),ye=e=>p.createElement(p.Fragment,null,e.children);function fe(e){let{variant:t="default",queryWrapper:n=ye}=e;const g=(0,o.TH)(),[v,E]=(0,p.useState)(se),[C,w]=(0,p.useState)(ue),[S,D]=(0,p.useState)("json_without_ids"),[B,T]=(0,p.useReducer)(Q,{...h,...ie}),[W,J]=(0,p.useState)(!1),[H,V]=(0,p.useState)(me),[U,X]=(0,p.useState)(""),[$,Y]=(0,p.useState)(!1),[ee,te]=(0,p.useState)(de),[re,ae]=(0,p.useState)(""),[le,fe]=(0,p.useState)(!1),[ve,Ee]=(0,p.useState)('firstName.startsWith("Stev") && age > 28'),[ke,Ce]=(0,p.useState)(""),[we,Se]=(0,p.useState)(!1),[De,Be]=(0,p.useState)(ce),[Te,Oe]=(0,p.useState)(""),[xe,qe]=(0,p.useState)(pe),Me=(0,p.useMemo)((()=>"#"+c.stringify(B)),[B]),Ne=(0,p.useCallback)((e=>{var t;const n=F(c.parse(null!=(t=c.parseUrl(e.newURL,{parseFragmentIdentifier:!0}).fragmentIdentifier)?t:"")),r={...h,...n.options};T({type:"replace",payload:r}),n.query&&E(n.query),n.queryIC&&w(n.queryIC)}),[]);(0,p.useEffect)((()=>(history.pushState(null,"",Me),window.addEventListener("hashchange",Ne),()=>window.removeEventListener("hashchange",Ne))),[Me,Ne]);const Le=(0,p.useMemo)((()=>f.map((e=>({...y[e],default:h[e],checked:B[e],setter:t=>T({type:"update",payload:{optionName:e,value:t}})})))),[B]),Fe=(0,p.useMemo)((()=>({format:S,fields:B.validateQuery?O:void 0,parseNumbers:B.parseNumbers})),[S,B.parseNumbers,B.validateQuery]),Qe=B.independentCombinators?C:v,Ie=(0,p.useMemo)((()=>((e,t)=>{const n=(0,b.x9)(e,t);return"json_without_ids"===t.format||"mongodb"===t.format?JSON.stringify(JSON.parse(n),null,2):"parameterized"===t.format||"parameterized_named"===t.format||"jsonlogic"===t.format?JSON.stringify(n,null,2):n})(Qe,Fe)),[Fe,Qe]),Ae=(0,p.useMemo)((()=>((e,t)=>{const n="RuleGroupType"+(e.independentCombinators?"IC":""),r=e.enableDragAndDrop?"  ":"",a=t&&"default"!==t?"  ":"",[o,l,i]=(e=>{switch(e){case"antd":return["import { QueryBuilderAntD } from '@react-querybuilder/antd';","<QueryBuilderAntD>","</QueryBuilderAntD>"];case"bootstrap":return["import { QueryBuilderBootstrap } from '@react-querybuilder/bootstrap';\nimport 'bootstrap-icons/font/bootstrap-icons.scss';\nimport 'bootstrap/scss/bootstrap.scss';","<QueryBuilderBootstrap>","</QueryBuilderBootstrap>"];case"bulma":return["import { QueryBuilderBulma } from '@react-querybuilder/bulma';\nimport 'bulma/bulma.sass';","<QueryBuilderBulma>","</QueryBuilderBulma>"];case"chakra":return["import { QueryBuilderChakra } from '@react-querybuilder/chakra';\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react';\n\nconst chakraTheme = extendTheme();","<ChakraProvider theme={chakraTheme}>\n<QueryBuilderChakra>","</QueryBuilderChakra>\n</ChakraProvider>"];case"material":return["import { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { QueryBuilderMaterial } from '@react-querybuilder/material';\nimport Checkbox from '@mui/material/Checkbox';\nimport DragIndicator from '@mui/material/DragIndicator';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Input from '@mui/material/Input';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport MenuItem from '@mui/material/MenuItem';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport Select from '@mui/material/Select';\nimport Switch from '@mui/material/Switch';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\n\nconst muiTheme = createTheme();\n\nconst muiComponents = {\n  Checkbox,\n  DragIndicator,\n  FormControl,\n  FormControlLabel,\n  Input,\n  ListSubheader,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  Switch,\n  TextareaAutosize,\n};","<ThemeProvider theme={muiTheme}>\n<QueryBuilderMaterial muiComponents={muiComponents}>","</QueryBuilderMaterial>\n</ThemeProvider>"]}return["","",""]})(t),s=t=>"autoSelectField"===t||"autoSelectOperator"===t||"resetOnFieldChange"===t?e[t]?"":t+"={false}":e[t]?t:"",u=["fields={fields}","query={query}","onQueryChange={q => setQuery(q)}",s("addRuleToNewGroups"),s("autoSelectField"),s("autoSelectOperator"),s("debugMode"),s("disabled"),s("enableDragAndDrop"),s("independentCombinators"),s("listsAsArrays"),s("resetOnFieldChange"),s("resetOnOperatorChange"),s("showCloneButtons"),s("showCombinatorsBetweenRules"),s("showLockButtons"),s("showNotToggle"),e.validateQuery?"validator={defaultValidator}":""].filter(Boolean).map((e=>"\n      "+r+a+e)).join(""),m="import { useState } from 'react';\n"+(e.enableDragAndDrop?"import { QueryBuilderDnD } from '@react-querybuilder/dnd';\nimport * as ReactDnD from 'react-dnd';\nimport * as ReactDndHtml5Backend from 'react-dnd-html5-backend';\n":"")+"import type { "+n+" } from 'react-querybuilder';\nimport {"+(e.validateQuery?"defaultValidator, ":"")+" QueryBuilder } from 'react-querybuilder';\nimport { fields } from './fields';\nimport 'react-querybuilder/dist/query-builder.scss';"+(e.justifiedLayout?"\nimport './styles.scss';":"")+(o?"\n"+o:"")+"\n\nconst initialQuery: "+n+" = {"+(e.independentCombinators?"":" combinator: 'and',")+" rules: [] };\n\nexport const App = () => {\n  const [query, setQuery] = useState(initialQuery);\n\n  return ("+(e.enableDragAndDrop?"<QueryBuilderDnD dnd={{ ...ReactDnD, ...ReactDndHtml5Backend }}>":"")+l+"<QueryBuilder "+u+" />"+i+(e.enableDragAndDrop?"</QueryBuilderDnD>":"")+"\n  );\n}";return L.Z.format(m,{filepath:"App.tsx",plugins:[N.Z],singleQuote:!0})})(B,t)),[B,t]),Re=(0,p.useMemo)((()=>B.justifiedLayout?L.Z.format(".queryBuilder {\n  // Push the clone, lock, and remove buttons to the right edge\n  .ruleGroup-addGroup + button.ruleGroup-cloneGroup,\n  .ruleGroup-addGroup + button.ruleGroup-lock,\n  .ruleGroup-addGroup + button.ruleGroup-remove,\n  .rule-operators + button.rule-cloneRule,\n  .rule-operators + button.rule-lock,\n  .rule-operators + button.rule-remove,\n  .rule-value + button.rule-cloneRule,\n  .rule-value + button.rule-lock,\n  .rule-value + button.rule-remove,\n  .control + button.rule-cloneRule,\n  .control + button.rule-lock,\n  .control + button.rule-remove,\n  .chakra-select__wrapper + button.rule-cloneRule,\n  .chakra-select__wrapper + button.rule-lock,\n  .chakra-select__wrapper + button.rule-remove {\n    margin-left: auto;\n  }\n}\n",{filepath:"styles.scss",plugins:[M.Z]}):""),[B.justifiedLayout]),Ge=()=>{return encodeURIComponent((e={query:v,queryIC:C,options:B,style:t},x.lW.from(q.ZP.deflate(JSON.stringify(e))).toString("base64")));var e},ze=(0,p.useMemo)((()=>({fields:O,...B,validator:B.validateQuery?b.Nd:void 0})),[B]),Pe="rqb-"+t,_e=(0,p.useMemo)((()=>(0,d.W)({validateQuery:B.validateQuery,justifiedLayout:B.justifiedLayout},"default"===t?"":"rqb-"+t)),[B.justifiedLayout,B.validateQuery,t]);return p.createElement("div",{className:G},p.createElement("div",null,p.createElement("h3",null,p.createElement(a.Z,{href:"/docs/api/querybuilder",title:"Boolean props on the QueryBuilder component (click for documentation)",className:z},p.createElement("span",null,"Options"),p.createElement("span",null,oe))),p.createElement("div",null,Le.map((e=>{let{checked:t,label:n,link:r,setter:o,title:l}=e;return p.createElement("div",{key:n,className:P},p.createElement("label",null,p.createElement("input",{type:"checkbox",checked:t,onChange:e=>o(e.target.checked)}),n),r?p.createElement(a.Z,{href:""+r,title:l+" (click for documentation)",style:{textDecoration:"none"}},oe):p.createElement("span",{title:l,style:{cursor:"pointer"}},oe))}))),p.createElement("div",{className:_},p.createElement("div",{title:"Reset the options above to their default values"},p.createElement("button",{type:"button",onClick:()=>T({type:"reset"})},"Reset")),p.createElement("div",{title:'Enable all features except "'+y.disabled.label+'" and "'+y.independentCombinators.label+'"'},p.createElement("button",{type:"button",onClick:()=>T({type:"all"})},"Select all")),p.createElement("div",{title:"Copy a URL that will load this demo with the options set as they are currently"},p.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(""+location.origin+g.pathname+"#s="+Ge()),qe("Copied!")}catch(e){console.error("Clipboard error",e)}setTimeout((()=>qe(pe)),1214)}},xe))),p.createElement("h3",null,p.createElement(a.Z,{href:"/docs/api/export",title:"The export format of the formatQuery function (click for documentation)",className:z},p.createElement("span",null,"Export"),p.createElement("span",null,oe))),p.createElement("div",{style:{marginBottom:"var(--ifm-heading-margin-bottom)"}},k.map((e=>{let[t,n,r]=e;return p.createElement("div",{key:t,style:{display:"flex",justifyContent:"space-between",flexDirection:"row"}},p.createElement("label",null,p.createElement("input",{type:"radio",checked:S===t,onChange:()=>D(t)}),n),p.createElement(a.Z,{href:r,title:'formatQuery(query, "'+t+'") (click for information)',style:{textDecoration:"none"}},oe))}))),p.createElement("h3",null,p.createElement(a.Z,{href:"/docs/api/import",title:"Use the parse* methods to set the query from SQL/JsonLogic/etc. (click for documentation)",className:z},p.createElement("span",null,"Import"),p.createElement("span",null,oe))),p.createElement("div",{className:j},p.createElement("button",{type:"button",onClick:()=>J(!0)},"Import SQL"),p.createElement("button",{type:"button",onClick:()=>Y(!0)},"Import MongoDB"),p.createElement("button",{type:"button",onClick:()=>fe(!0)},"Import CEL"),p.createElement("button",{type:"button",onClick:()=>Se(!0)},"Import JsonLogic"),p.createElement("div",null,p.createElement("code",{style:{fontSize:"8pt",marginBottom:"var(--ifm-global-spacing)"}},"react-querybuilder@",b.i8)))),p.createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"var(--ifm-global-spacing)"}},p.createElement(ne,{variant:t,dnd:B.enableDragAndDrop,compressedState:Ge()}),p.createElement("div",{id:Pe,className:_e},p.createElement(n,null,p.createElement(l.yC,null,B.independentCombinators?p.createElement(b.zk,(0,r.Z)({},ze,{independentCombinators:!0,key:"queryIC",query:C,onQueryChange:e=>w(e)})):p.createElement(b.zk,(0,r.Z)({},ze,{independentCombinators:!1,key:"query",query:v,onQueryChange:e=>E(e)}))))),p.createElement(m.Z,{groupId:"export-or-code"},p.createElement(u.Z,{value:"export",label:"Export"},p.createElement("div",{style:{marginBottom:"var(--ifm-heading-margin-bottom)"}},p.createElement("code",null,"formatQuery(query, { format: '"+S+"'"+(B.parseNumbers?", parseNumbers: true":"")+" })")),p.createElement(i.Z,{language:I(S),className:Z},Ie)),p.createElement(u.Z,{value:"code",label:"Code"},p.createElement(i.Z,{language:"tsx",title:"App.tsx"},Ae),Re&&p.createElement(i.Z,{language:"scss",title:"styles.scss"},Re),p.createElement(s.Z,{summary:p.createElement("summary",null,"Other files")},p.createElement(i.Z,{language:"ts",title:"fields.ts"},A),p.createElement(i.Z,{language:"ts",title:"musicalInstruments.ts"},R))))),p.createElement(K,{heading:"Import SQL",isOpen:W,setIsOpen:J,code:H,setCode:V,error:U,loadQueryFromCode:()=>{try{const e=(0,b.wl)(H),t=(0,b.wl)(H,{independentCombinators:!0});E(e),w(t),J(!1),X(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){X(e.message)}},notes:be}),p.createElement(K,{heading:"Import MongoDB",isOpen:$,setIsOpen:Y,code:ee,setCode:te,error:re,loadQueryFromCode:()=>{try{const e=(0,b.uB)(ee),t=(0,b.uP)(e);E(e),w(t),Y(!1),ae(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){ae(e.message)}},notes:he}),p.createElement(K,{heading:"Import CEL",isOpen:le,setIsOpen:fe,code:ve,setCode:Ee,error:ke,loadQueryFromCode:()=>{try{const e=(0,b.AE)(ve),t=(0,b.AE)(ve,{independentCombinators:!0});E(e),w(t),fe(!1),Ce(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){Ce(e.message)}},notes:""}),p.createElement(K,{heading:"Import JsonLogic",isOpen:we,setIsOpen:Se,code:De,setCode:Be,error:Te,loadQueryFromCode:()=>{try{const e=(0,b.Ae)(De),t=(0,b.uP)(e);E(e),w(t),Se(!1),Oe(""),window.scrollTo({top:0,behavior:"smooth"})}catch(e){Oe(e.message)}},notes:ge}))}},37310:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(19666),a=n(74571),o=n(91022),l=n(67294);function i(){return l.createElement(o.Z,{description:"React Query Builder Bulma Demo"},l.createElement(r.Z,{fallback:l.createElement("div",null,"Loading...")},(()=>{const e=n(48935).Z;return l.createElement(a.FP,null,l.createElement(e,{variant:"bulma"}))})))}}}]);