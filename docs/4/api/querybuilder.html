<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-4 docs-doc-page docs-doc-id-api/querybuilder" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-rc.0">
<title data-rh="true">&lt;QueryBuilder /&gt; | React Query Builder</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://react-querybuilder.js.org/docs/4/api/querybuilder"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-4"><meta data-rh="true" name="docsearch:version" content="4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-4"><meta data-rh="true" property="og:title" content="&lt;QueryBuilder /&gt; | React Query Builder"><meta data-rh="true" name="description" content="Props and other configuration for the main component"><meta data-rh="true" property="og:description" content="Props and other configuration for the main component"><link data-rh="true" rel="icon" href="/img/react-querybuilder.png"><link data-rh="true" rel="canonical" href="https://react-querybuilder.js.org/docs/4/api/querybuilder"><link data-rh="true" rel="alternate" href="https://react-querybuilder.js.org/docs/4/api/querybuilder" hreflang="en"><link data-rh="true" rel="alternate" href="https://react-querybuilder.js.org/docs/4/api/querybuilder" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1ECMJ15RQA-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7VHBQ0YBTJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7VHBQ0YBTJ",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="React Query Builder" href="/opensearch.xml">






<script src="/js/console.js"></script><link rel="stylesheet" href="/assets/css/styles.4720254c.css">
<script src="/assets/js/runtime~main.511f52ed.js" defer="defer"></script>
<script src="/assets/js/main.43310a17.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/react-querybuilder.svg" alt="React Query Builder Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/react-querybuilder.svg" alt="React Query Builder Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">React Query Builder</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/components/querybuilder">Docs</a><a class="navbar__item navbar__link" href="/demo">Demo</a><a class="navbar__item navbar__link" href="/api">API</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/4/intro">v4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/api/querybuilder">Next</a></li><li><a class="dropdown__link" href="/docs/api/querybuilder">v6.x</a></li><li><a class="dropdown__link" href="/docs/5/api/querybuilder">v5.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/4/api/querybuilder">v4.x</a></li><li><a class="dropdown__link" href="/docs/3/intro">v3.x</a></li></ul></div><a href="https://github.com/react-querybuilder/react-querybuilder" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a class="navbar__item navbar__link header-discord-link" aria-label="Discord server" href="/discord"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/4/intro">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/4/category/api">API</a><button aria-label="Collapse sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/4/api/querybuilder">&lt;QueryBuilder /&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/valueeditor">&lt;ValueEditor /&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/classnames">CSS classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/export">Export</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/import">Import</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/validation">Validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4/api/misc">Miscellaneous</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/4/category/tips--tricks">Tips &amp; tricks</a><button aria-label="Expand sidebar category &#x27;Tips &amp; tricks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/4/compat">Compatibility packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/4/typescript">TypeScript reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/4/umd">UMD build</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/4/migrate">Migrating to v4</a></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->React Query Builder<!-- --> <b>v4.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/api/querybuilder">latest version</a></b> (<!-- -->v6.x<!-- -->).</div></div><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/4/category/api"><span itemprop="name">API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">&lt;QueryBuilder /&gt;</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v4.x</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>&lt;QueryBuilder /&gt;</h1></header><admonition type="info"><p>Please refer to the <a href="../typescript">TypeScript</a> page for information about the types and interfaces referenced below.</p></admonition>
<p>The default export of <code>react-querybuilder</code> is the <code>&lt;QueryBuilder /&gt;</code> React component.</p>
<p>All props are optional, but as stated in the <a href="../intro">getting started guide</a>, the query builder is really only useful when, at a minimum, the <code>fields</code> prop is defined.</p>
<admonition type="note"><p>When you see <code>RuleGroupTypeAny</code> below (e.g. for <a href="#query">query</a>, <a href="#defaultquery">defaultQuery</a>, and <a href="#onquerychange">onQueryChange</a>), that means the type must either be <code>RuleGroupType</code> or <code>RuleGroupTypeIC</code>. However, if the type is <code>RuleGroupTypeIC</code>, then the <a href="#independentcombinators"><code>independentCombinators</code> prop</a> must be set to <code>true</code>. Likewise, if the type is <code>RuleGroupType</code> then <code>independentCombinators</code> must be <code>false</code> or <code>undefined</code>.</p></admonition>
<h2 id="props">Props</h2>
<h3 id="fields"><code>fields</code></h3>
<p><code>Field[] | OptionGroup&lt;Field&gt;[] | Record&lt;string, Field&gt;</code></p>
<p>The array of <a href="../typescript#fields">fields</a> that should be used or an array of <a href="../typescript#miscellaneous">option groups</a> containing arrays of fields. (Alternatively, <code>fields</code> can be an object where the keys correspond to each field <code>name</code> and the values are the field definitions. If <code>fields</code> is an object, then the <code>options</code> array passed to the <a href="#fieldselector"><code>fieldSelector</code> component</a> will be sorted alphabetically by the <code>label</code> property.)</p>
<admonition type="tip"><p>Field objects can also contain custom properties. Each field object will be passed in its entirety to the appropriate <code>OperatorSelector</code> and <code>ValueEditor</code> components as the <code>fieldData</code> prop (see the section on <a href="#controlelements"><code>controlElements</code></a>).</p></admonition>
<h3 id="onquerychange"><code>onQueryChange</code></h3>
<p><code>(query: RuleGroupTypeAny) =&gt; void</code></p>
<p>This is a callback function that is invoked anytime the query configuration changes. The <code>query</code> is provided as an object of type <code>RuleGroupType</code> by default:</p>
<pre><code class="language-json">{
  &quot;combinator&quot;: &quot;and&quot;,
  &quot;not&quot;: false,
  &quot;rules&quot;: [
    {
      &quot;field&quot;: &quot;firstName&quot;,
      &quot;operator&quot;: &quot;=&quot;,
      &quot;value&quot;: &quot;Steve&quot;
    },
    {
      &quot;field&quot;: &quot;lastName&quot;,
      &quot;operator&quot;: &quot;=&quot;,
      &quot;value&quot;: &quot;Vai&quot;
    },
    {
      &quot;combinator&quot;: &quot;and&quot;,
      &quot;rules&quot;: [
        {
          &quot;field&quot;: &quot;age&quot;,
          &quot;operator&quot;: &quot;&gt;&quot;,
          &quot;value&quot;: &quot;30&quot;
        }
      ]
    }
  ]
}
</code></pre>
<p>If the <code>independentCombinators</code> prop is provided, then the <code>query</code> argument will be of type <code>RuleGroupTypeIC</code>, which looks like this:</p>
<pre><code class="language-json">{
  &quot;not&quot;: false,
  &quot;rules&quot;: [
    {
      &quot;field&quot;: &quot;firstName&quot;,
      &quot;operator&quot;: &quot;=&quot;,
      &quot;value&quot;: &quot;Steve&quot;
    },
    &quot;and&quot;,
    {
      &quot;field&quot;: &quot;lastName&quot;,
      &quot;operator&quot;: &quot;=&quot;,
      &quot;value&quot;: &quot;Vai&quot;
    },
    &quot;and&quot;,
    {
      &quot;rules&quot;: [
        {
          &quot;field&quot;: &quot;age&quot;,
          &quot;operator&quot;: &quot;&gt;&quot;,
          &quot;value&quot;: &quot;30&quot;
        }
      ]
    }
  ]
}
</code></pre>
<h3 id="query"><code>query</code></h3>
<p><code>RuleGroupTypeAny</code></p>
<p>The query is an object of type <code>RuleGroupType</code> (or <code>RuleGroupTypeIC</code>, if <a href="#independentcombinators"><code>independentCombinators</code></a> is <code>true</code>). If this prop is provided, <code>&lt;QueryBuilder /&gt;</code> will be a controlled component.</p>
<p>The <code>query</code> prop follows the same format as the parameter passed to the <a href="#onquerychange"><code>onQueryChange</code></a> callback since they are meant to be used together to control the component. See <a href="https://github.com/react-querybuilder/react-querybuilder/blob/main/examples">examples</a>.</p>
<h3 id="defaultquery"><code>defaultQuery</code></h3>
<p><code>RuleGroupTypeAny</code></p>
<p>The initial query when <code>&lt;QueryBuilder /&gt;</code> is uncontrolled.</p>
<admonition type="caution"><p>Do not provide both <code>query</code> and <code>defaultQuery</code> props. To use <code>&lt;QueryBuilder /&gt;</code> as a controlled component, provide and manage the <code>query</code> prop in combination with the <code>onQueryChange</code> callback. Use <code>defaultQuery</code> (or neither query prop) to render an uncontrolled component.</p><p>If both props are provided, TypeScript will throw an error during compilation and an error will be logged to the console during runtime (in &quot;development&quot; mode only). Errors will also be logged to the console if the <code>query</code> prop is defined during one render and undefined in the next, or vice versa.</p></admonition>
<h3 id="context"><code>context</code></h3>
<p><code>any</code></p>
<p>A &quot;bucket&quot; for passing arbitrary props down to custom components (default components will ignore this prop). The <code>context</code> prop is passed to each and every component, so it&#x27;s accessible anywhere in the <code>QueryBuilder</code> component tree.</p>
<h3 id="operators"><code>operators</code></h3>
<p><code>NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[]</code></p>
<p>The array of operators that should be used. The default operators include:</p>
<pre><code class="language-ts">[
  { name: &#x27;=&#x27;, label: &#x27;=&#x27; },
  { name: &#x27;!=&#x27;, label: &#x27;!=&#x27; },
  { name: &#x27;&lt;&#x27;, label: &#x27;&lt;&#x27; },
  { name: &#x27;&gt;&#x27;, label: &#x27;&gt;&#x27; },
  { name: &#x27;&lt;=&#x27;, label: &#x27;&lt;=&#x27; },
  { name: &#x27;&gt;=&#x27;, label: &#x27;&gt;=&#x27; },
  { name: &#x27;contains&#x27;, label: &#x27;contains&#x27; },
  { name: &#x27;beginsWith&#x27;, label: &#x27;begins with&#x27; },
  { name: &#x27;endsWith&#x27;, label: &#x27;ends with&#x27; },
  { name: &#x27;doesNotContain&#x27;, label: &#x27;does not contain&#x27; },
  { name: &#x27;doesNotBeginWith&#x27;, label: &#x27;does not begin with&#x27; },
  { name: &#x27;doesNotEndWith&#x27;, label: &#x27;does not end with&#x27; },
  { name: &#x27;null&#x27;, label: &#x27;is null&#x27; },
  { name: &#x27;notNull&#x27;, label: &#x27;is not null&#x27; },
  { name: &#x27;in&#x27;, label: &#x27;in&#x27; },
  { name: &#x27;notIn&#x27;, label: &#x27;not in&#x27; },
  { name: &#x27;between&#x27;, label: &#x27;between&#x27; },
  { name: &#x27;notBetween&#x27;, label: &#x27;not between&#x27; },
];
</code></pre>
<h3 id="combinators"><code>combinators</code></h3>
<p><code>NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[]</code></p>
<p>The array of combinators that should be used for RuleGroups. The default set includes:</p>
<pre><code class="language-ts">[
  { name: &#x27;and&#x27;, label: &#x27;AND&#x27; },
  { name: &#x27;or&#x27;, label: &#x27;OR&#x27; },
];
</code></pre>
<h3 id="controlelements"><code>controlElements</code></h3>
<pre><code class="language-ts">interface Controls {
  addGroupAction?: React.ComponentType&lt;ActionWithRulesProps&gt;;
  addRuleAction?: React.ComponentType&lt;ActionWithRulesProps&gt;;
  cloneGroupAction?: React.ComponentType&lt;ActionWithRulesProps&gt;;
  cloneRuleAction?: React.ComponentType&lt;ActionProps&gt;;
  combinatorSelector?: React.ComponentType&lt;CombinatorSelectorProps&gt;;
  dragHandle?: React.ForwardRefExoticComponent&lt;
    DragHandleProps &amp; React.RefAttributes&lt;HTMLSpanElement&gt;
  &gt;;
  fieldSelector?: React.ComponentType&lt;FieldSelectorProps&gt;;
  notToggle?: React.ComponentType&lt;NotToggleProps&gt;;
  operatorSelector?: React.ComponentType&lt;OperatorSelectorProps&gt;;
  removeGroupAction?: React.ComponentType&lt;ActionWithRulesProps&gt;;
  removeRuleAction?: React.ComponentType&lt;ActionProps&gt;;
  rule?: React.ComponentType&lt;RuleProps&gt;;
  ruleGroup?: React.ComponentType&lt;RuleGroupProps&gt;;
  valueEditor?: React.ComponentType&lt;ValueEditorProps&gt;;
  valueSourceSelector?: React.ComponentType&lt;ValueSourceSelectorProps&gt;;
}
</code></pre>
<p>This is a custom controls object that allows you to override the default control elements. The following control overrides are supported:</p>
<h4 id="addgroupaction"><code>addGroupAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionWithRulesProps {
  label: string; // translations.addGroup.label, e.g. &quot;+Group&quot;
  title: string; // translations.addGroup.title, e.g. &quot;Add group&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  rules: (RuleGroupType | RuleType)[]; // Provides the number of rules already present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="clonegroupaction"><code>cloneGroupAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionWithRulesProps {
  label: string; // translations.addGroup.label, e.g. &quot;+Group&quot;
  title: string; // translations.addGroup.title, e.g. &quot;Add group&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  rules: (RuleGroupType | RuleType)[]; // Provides the number of rules already present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="removegroupaction"><code>removeGroupAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionWithRulesProps {
  label: string; // translations.removeGroup.label, e.g. &quot;x&quot;
  title: string; // translations.removeGroup.title, e.g. &quot;Remove group&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  rules: (RuleGroupType | RuleType)[]; // Provides the number of rules already present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="lockgroupaction"><code>lockGroupAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionWithRulesProps {
  label: string; // translations.lockGroup.label, e.g. &quot;üîì&quot; when unlocked and &quot;üîí&quot; when locked
  title: string; // translations.lockGroup.title, e.g. &quot;Lock group&quot; or &quot;Unlock group&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke locking the rule group
  rules: (RuleGroupType | RuleType)[]; // The rules present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="addruleaction"><code>addRuleAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionWithRulesProps {
  label: string; // translations.addGroup.label, e.g. &quot;+Rule&quot;
  title: string; // translations.addGroup.title, e.g. &quot;Add rule&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  rules: (RuleGroupType | RuleType)[]; // Provides the number of rules already present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="cloneruleaction"><code>cloneRuleAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionProps {
  label: string; // translations.addGroup.label, e.g. &quot;+Rule&quot;
  title: string; // translations.addGroup.title, e.g. &quot;Add rule&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="removeruleaction"><code>removeRuleAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionProps {
  label: string; // translations.removeRule.label, e.g. &quot;x&quot;
  title: string; // translations.removeRule.title, e.g. &quot;Remove rule&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke adding a &lt;RuleGroup /&gt;
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="lockruleaction"><code>lockRuleAction</code></h4>
<p>By default a <code>&lt;button /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ActionProps {
  label: string; // translations.lockRule.label, e.g. &quot;üîì&quot; when unlocked and &quot;üîí&quot; when locked
  title: string; // translations.lockRule.title, e.g. &quot;Lock rule&quot; or &quot;Unlock rule&quot;
  className: string; // CSS classNames to be applied
  handleOnClick: (e: React.MouseEvent) =&gt; void; // Callback function to invoke locking the rule
  level: number; // The level of the current rule
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="combinatorselector"><code>combinatorSelector</code></h4>
<p>By default a <code>&lt;select /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface CombinatorSelectorProps {
  options: NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[]; // Same as &#x27;combinators&#x27; passed into QueryBuilder
  value: string; // Selected combinator from the existing query representation, if any
  className: string; // CSS classNames to be applied
  handleOnChange: (value: any) =&gt; void; // Callback function to update query representation
  rules: (RuleGroupType | RuleType)[]; // Provides the number of rules already present for this group
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="draghandle"><code>dragHandle</code></h4>
<p>By default a <code>&lt;span /&gt;</code> is used. Note that this component must be based on <code>React.forwardRef</code>, and must always render an element (i.e. never return <code>null</code>). The following props are passed:</p>
<pre><code class="language-ts">interface DragHandleProps {
  title: string; // translations.dragHandle.title, e.g. &quot;Drag handle&quot;
  className: string; // CSS classNames to be applied
  level: number; // The level of the current group
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
  label: string; // translations.dragHandle.label, e.g. &quot;‚Åû‚Åû&quot;
}
</code></pre>
<h4 id="fieldselector"><code>fieldSelector</code></h4>
<p>By default a <code>&lt;select /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface FieldSelectorProps {
  options: Field[]; // Same as &#x27;fields&#x27; passed into QueryBuilder
  value: string; // Selected field from the existing query representation, if any
  title: string; // translations.fields.title, e.g. &quot;Fields&quot;
  operator: string; // Selected operator from the existing query representation, if any
  className: string; // CSS classNames to be applied
  handleOnChange: (value: any) =&gt; void; // Callback function to update query representation
  level: number; // The level the group this rule belongs to
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="operatorselector"><code>operatorSelector</code></h4>
<p>By default a <code>&lt;select /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface OperatorSelectorProps {
  field: string; // Field name corresponding to this rule
  fieldData: Field; // The entire object from the fields array for this field
  options: NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[]; // Return value of getOperators(field)
  value: string; // Selected operator from the existing query representation, if any
  title: string; // translations.operators.title, e.g. &quot;Operators&quot;
  className: string; // CSS classNames to be applied
  handleOnChange: (value: any) =&gt; void; // Callback function to update query representation
  level: number; // The level the group this rule belongs to
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="valueeditor"><code>valueEditor</code></h4>
<p>By default an <code>&lt;input type=&quot;text&quot; /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ValueEditorProps {
  field: string; // Field name corresponding to this rule
  fieldData: Field; // The entire object from the fields array for this field
  operator: string; // Operator name corresponding to this rule
  value: string; // Value from the existing query representation, if any
  title: string; // translations.value.title, e.g. &quot;Value&quot;
  handleOnChange: (value: any) =&gt; void; // Callback function to update the query representation
  type: ValueEditorType; // Type of editor to be displayed
  inputType: string; // @type of &lt;input&gt; if `type` is &quot;text&quot;
  values: any[]; // List of available values for this rule
  level: number; // The level the group this rule belongs to
  className: string; // CSS classNames to be applied
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="valuesourceselector"><code>valueSourceSelector</code></h4>
<p>By default a <code>&lt;select /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface ValueSourceSelectorProps {
  field: string; // Field name corresponding to this rule
  fieldData: Field; // The entire object from the fields array for this field
  options: ValueSourceOption[] | OptionGroup&lt;ValueSourceOption&gt;[]; // Return value of getValueSources(field, operator)
  value: ValueSource; // Selected value source from the existing query representation, if any
  title: string; // translations.valueSourceSelector.title, e.g. &quot;Value source&quot;
  className: string; // CSS classNames to be applied
  handleOnChange: (value: any) =&gt; void; // Callback function to update query representation
  level: number; // The level the group this rule belongs to
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this rule
}
</code></pre>
<h4 id="nottoggle"><code>notToggle</code></h4>
<p>By default, <code>&lt;label&gt;&lt;input type=&quot;checkbox&quot; /&gt;Not&lt;/label&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface NotToggleProps {
  checked: boolean; // Whether the input should be checked or not
  handleOnChange: (checked: boolean) =&gt; void; // Callback function to update the query representation
  title: string; // translations.notToggle.title, e.g. &quot;Invert this group&quot;
  level: number; // The level of the group
  className: string; // CSS classNames to be applied
  context: any; // Container for custom props that are passed to all components
  validation: boolean | ValidationResult; // validation result of this group
}
</code></pre>
<h4 id="rulegroup"><code>ruleGroup</code></h4>
<p>By default, <code>&lt;RuleGroup /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface RuleGroupProps {
  id?: string; // Unique identifier for this rule group
  path: number[]; // path of indexes through a rule group hierarchy
  ruleGroup: RuleGroupTypeAny; // The rule group object
  translations: Translations; // The full translations object
  schema: Schema; // See `Schema` on the TypeScript page
  context: any; // Container for custom props that are passed to all components
  disabled?: boolean; // Whether the rule itself is disabled
  parentDisabled?: boolean; // Whether an ancestor of this rule is disabled
}
</code></pre>
<h4 id="rule"><code>rule</code></h4>
<p>By default, <code>&lt;Rule /&gt;</code> is used. The following props are passed:</p>
<pre><code class="language-ts">interface RuleProps {
  id?: string; // Unique identifier for this rule
  path: number[]; // path of indexes through a rule group hierarchy
  rule: RuleType; // The rule object
  translations: Translations; // The full translations object
  schema: Schema; // See `Schema` on the TypeScript page
  context: any; // Container for custom props that are passed to all components
  disabled?: boolean; // Whether the rule itself is disabled
  parentDisabled?: boolean; // Whether an ancestor of this rule is disabled
}
</code></pre>
<h3 id="getoperators"><code>getOperators</code></h3>
<p><code>(field: string) =&gt; NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[] | null</code></p>
<p>This is a callback function invoked to get the list of allowed operators for the given field. If <code>null</code> is returned, the default operators are used.</p>
<h3 id="getvalueeditortype"><code>getValueEditorType</code></h3>
<p><code>(field: string, operator: string) =&gt; ValueEditorType</code></p>
<p>This is a callback function invoked to get the type of <code>ValueEditor</code> for the given field and operator. Allowed values are <code>&quot;text&quot;</code> (the default if the function is not provided or if <code>null</code> is returned), <code>&quot;select&quot;</code>, <code>&quot;checkbox&quot;</code>, and <code>&quot;radio&quot;</code>.</p>
<h3 id="getvaluesources"><code>getValueSources</code></h3>
<p><code>(field: string, operator: string) =&gt; ValueSources</code>;</p>
<p>This is a callback function invoked to get the list of allowed value sources for a given field and operator. The return value must be an array including at least &quot;value&quot; or &quot;field&quot;, but may also contain both (in any order). If the prop is undefined, <code>() =&gt; [&quot;value&quot;]</code> is used. The first element in the array will be the default.</p>
<h3 id="getinputtype"><code>getInputType</code></h3>
<p><code>(field: string, operator: string) =&gt; string</code></p>
<p>This is a callback function invoked to get the <code>type</code> of <code>&lt;input /&gt;</code> for the given field and operator (only applicable when <code>getValueEditorType</code> returns <code>&quot;text&quot;</code> or a falsy value). If no function is provided, <code>&quot;text&quot;</code> is used as the default.</p>
<h3 id="getvalues"><code>getValues</code></h3>
<p><code>(field: string, operator: string) =&gt; NameLabelPair[] | OptionGroup&lt;NameLabelPair&gt;[]</code></p>
<p>This is a callback function invoked to get the list of allowed values for the given field and operator (only applicable when <code>getValueEditorType</code> returns <code>&quot;select&quot;</code> or <code>&quot;radio&quot;</code>). If no function is provided, an empty array is used as the default.</p>
<h3 id="getdefaultfield"><code>getDefaultField</code></h3>
<p><code>string | ((fieldsData: Field[]) =&gt; string)</code></p>
<p>The default field for new rules. This can be a string identifying the default field, or a function that returns a field name.</p>
<h3 id="getdefaultoperator"><code>getDefaultOperator</code></h3>
<p><code>string | ((field: string) =&gt; string)</code></p>
<p>The default operator for new rules. This can be a string identifying the default operator, or a function that returns an operator name.</p>
<h3 id="getdefaultvalue"><code>getDefaultValue</code></h3>
<p><code>(rule: RuleType) =&gt; any</code></p>
<p>This function returns the default value for new rules.</p>
<h3 id="onaddrule"><code>onAddRule</code></h3>
<p><code>(rule: RuleType, parentPath: number[], query: RuleGroupTypeAny) =&gt; RuleType | false</code></p>
<p>This callback is invoked before a new rule is added. The function should either manipulate the rule and return it as an object of type <code>RuleType</code>, or return <code>false</code> to cancel the addition of the rule. You can use <a href="./misc#findpath"><code>findPath</code></a> to locate the parent group to which the new rule will be added within the query hierarchy.</p>
<admonition type="tip"><p>To completely <a href="../tips/limit-groups">prevent the addition of new rules</a>, pass <code>controlElements={{ addRuleAction: () =&gt; null }}</code> which will hide the &quot;+Rule&quot; button.</p></admonition>
<h3 id="onaddgroup"><code>onAddGroup</code></h3>
<p><code>&lt;RG extends RuleGroupTypeAny&gt;(ruleGroup: RG, parentPath: number[], query: RG) =&gt; RG | false</code></p>
<p>This callback is invoked before a new group is added. The function should either manipulate the group and return it as an object of the same type (either <code>RuleGroupType</code> or <code>RuleGroupTypeIC</code>), or return <code>false</code> to cancel the addition of the group. You can use <a href="./misc#findpath"><code>findPath</code></a> to locate the parent group to which the new group will be added within the query hierarchy.</p>
<admonition type="tip"><p>To completely <a href="../tips/limit-groups">prevent the addition of new groups</a>, pass <code>controlElements={{ addGroupAction: () =&gt; null }}</code> which will hide the &quot;+Group&quot; button.</p></admonition>
<h3 id="controlclassnames"><code>controlClassnames</code></h3>
<p>This prop can be used to assign specific CSS classes to various controls that are rendered by the <code>&lt;QueryBuilder /&gt;</code> component. This is an object with the following signature:</p>
<pre><code class="language-ts">interface Classnames {
  queryBuilder?: string; // Root &lt;div&gt; element
  ruleGroup?: string; // &lt;div&gt; containing a RuleGroup
  header?: string; // &lt;div&gt; containing the RuleGroup header controls
  body?: string; // &lt;div&gt; containing the RuleGroup child rules/groups
  combinators?: string; // &lt;select&gt; control for combinators
  addRule?: string; // &lt;button&gt; to add a Rule
  addGroup?: string; // &lt;button&gt; to add a RuleGroup
  cloneRule?: string; // &lt;button&gt; to clone a Rule
  cloneGroup?: string; // &lt;button&gt; to clone a RuleGroup
  removeGroup?: string; // &lt;button&gt; to remove a RuleGroup
  lockRule?: string; // &lt;button&gt; to lock/disable a Rule
  lockGroup?: string; // &lt;button&gt; to lock/disable a RuleGroup
  notToggle?: string; // &lt;label&gt; on the &quot;not&quot; toggle
  rule?: string; // &lt;div&gt; containing the Rule
  fields?: string; // &lt;select&gt; control for fields
  operators?: string; // &lt;select&gt; control for operators
  value?: string; // &lt;input&gt; for the field value
  removeRule?: string; // &lt;button&gt; to remove a Rule
  dragHandle?: string; // &lt;span&gt; as drag-and-drop handle
  valueSource?: string; // &lt;select&gt; control for value source
}
</code></pre>
<h3 id="translations"><code>translations</code></h3>
<p>This prop can be used to override translatable texts applied to various controls that are created by the <code>&lt;QueryBuilder /&gt;</code> component. All keys in the object and all properties within each key are optional. Missing translations will default to the values below.</p>
<pre><code class="language-json">{
  &quot;fields&quot;: {
    &quot;title&quot;: &quot;Fields&quot;,
    &quot;placeholderName&quot;: &quot;~&quot;,
    &quot;placeholderLabel&quot;: &quot;------&quot;,
    &quot;placeholderGroupLabel&quot;: &quot;------&quot;
  },
  &quot;operators&quot;: {
    &quot;title&quot;: &quot;Operators&quot;,
    &quot;placeholderName&quot;: &quot;~&quot;,
    &quot;placeholderLabel&quot;: &quot;------&quot;,
    &quot;placeholderGroupLabel&quot;: &quot;------&quot;
  },
  &quot;value&quot;: {
    &quot;title&quot;: &quot;Value&quot;
  },
  &quot;removeRule&quot;: {
    &quot;label&quot;: &quot;x&quot;,
    &quot;title&quot;: &quot;Remove rule&quot;
  },
  &quot;removeGroup&quot;: {
    &quot;label&quot;: &quot;x&quot;,
    &quot;title&quot;: &quot;Remove group&quot;
  },
  &quot;addRule&quot;: {
    &quot;label&quot;: &quot;+Rule&quot;,
    &quot;title&quot;: &quot;Add rule&quot;
  },
  &quot;addGroup&quot;: {
    &quot;label&quot;: &quot;+Group&quot;,
    &quot;title&quot;: &quot;Add group&quot;
  },
  &quot;combinators&quot;: {
    &quot;title&quot;: &quot;Combinators&quot;
  },
  &quot;notToggle&quot;: {
    &quot;label&quot;: &quot;Not&quot;,
    &quot;title&quot;: &quot;Invert this group&quot;
  },
  &quot;cloneRule&quot;: {
    &quot;label&quot;: &quot;‚ßâ&quot;,
    &quot;title&quot;: &quot;Clone rule&quot;
  },
  &quot;cloneRuleGroup&quot;: {
    &quot;label&quot;: &quot;‚ßâ&quot;,
    &quot;title&quot;: &quot;Clone group&quot;
  },
  &quot;dragHandle&quot;: {
    &quot;label&quot;: &quot;‚Åû‚Åû&quot;,
    &quot;title&quot;: &quot;Drag handle&quot;
  },
  &quot;lockRule&quot;: {
    &quot;label&quot;: &quot;üîì&quot;,
    &quot;title&quot;: &quot;Lock rule&quot;
  },
  &quot;lockGroup&quot;: {
    &quot;label&quot;: &quot;üîì&quot;,
    &quot;title&quot;: &quot;Lock group&quot;
  },
  &quot;lockRuleDisabled&quot;: {
    &quot;label&quot;: &quot;üîí&quot;,
    &quot;title&quot;: &quot;Unlock rule&quot;
  },
  &quot;lockGroupDisabled&quot;: {
    &quot;label&quot;: &quot;üîí&quot;,
    &quot;title&quot;: &quot;Unlock group&quot;
  }
}
</code></pre>
<h3 id="showcombinatorsbetweenrules"><code>showCombinatorsBetweenRules</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#showCombinatorsBetweenRules=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to show the combinators (and/or) between rules and rule groups instead of at the top of rule groups. This can make some queries easier to understand as it encourages a more natural style of reading.</p>
<h3 id="shownottoggle"><code>showNotToggle</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#showNotToggle=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to show the &quot;Not&quot; (aka inversion) toggle switch for each rule group.</p>
<h3 id="showclonebuttons"><code>showCloneButtons</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#showCloneButtons=true">Click here for demo</a></em></p>
<h3 id="showlockbuttons"><code>showLockButtons</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#showLockButtons=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to show the &quot;Lock rule&quot; and &quot;Lock group&quot; buttons. When a rule is locked, all elements within the rule will be disabled (except for the lock button, so the user can unlock it). When a group is locked, all elements within the group header (except the lock button), as well as all child rule/group elements, will be disabled.</p>
<h3 id="resetonfieldchange"><code>resetOnFieldChange</code></h3>
<p><code>boolean</code> (default <code>true</code>) <em><a href="/demo#resetOnFieldChange=false">Click here for demo with this feature disabled</a></em></p>
<p>Pass <code>false</code> to avoid resetting the operator and value when the field changes.</p>
<h3 id="resetonoperatorchange"><code>resetOnOperatorChange</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#resetOnOperatorChange=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to reset the value when the operator changes.</p>
<h3 id="enablemountquerychange"><code>enableMountQueryChange</code></h3>
<p><code>boolean</code> (default <code>true</code>)</p>
<p>Pass <code>false</code> to disable the <code>onQueryChange</code> call on mount of the component which will set the default value.</p>
<h3 id="autoselectfield"><code>autoSelectField</code></h3>
<p><code>boolean</code> (default <code>true</code>) <em><a href="/demo#autoSelectField=false">Click here for demo with this feature disabled</a></em></p>
<p>Pass <code>false</code> to automatically add an &quot;empty&quot; option with value <code>&quot;~&quot;</code> and label <code>&quot;------&quot;</code> (see <a href="#translations"><code>translations.fields.placeholder*</code> to customize</a>) to the <code>fields</code> array as the first element. The empty option will be the initial selection for all new rules. When the empty field option is selected, the operator and value editor components will not display for that rule.</p>
<h3 id="autoselectoperator"><code>autoSelectOperator</code></h3>
<p><code>boolean</code> (default <code>true</code>) <em><a href="/demo#autoSelectOperator=false">Click here for demo with this feature disabled</a></em></p>
<p>Pass <code>false</code> to automatically add an &quot;empty&quot; option with value <code>&quot;~&quot;</code> and label <code>&quot;------&quot;</code> (see <a href="#translations"><code>translations.operators.placeholder*</code> to customize</a>) to the <code>operators</code> array as the first element. The empty option will be the initial selection for all new rules. When the empty operator option is selected, the value editor component will not display for that rule.</p>
<h3 id="addruletonewgroups"><code>addRuleToNewGroups</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#addRuleToNewGroups=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to automatically add a rule to new groups. If a <code>query</code> prop is not passed in, a rule will be added to the root group when the component is mounted. If a <code>query</code> prop is passed in with an empty <code>rules</code> array, no rule will be added automatically.</p>
<h3 id="listsasarrays"><code>listsAsArrays</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#listsAsArrays=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to update rule values that represent lists with proper arrays instead of comma-separated strings. Applies when <code>valueEditorType</code> is &quot;multiselect&quot; and when a rule&#x27;s <code>operator</code> is &quot;between&quot;, &quot;notBetween&quot;, &quot;in&quot;, or &quot;notIn&quot;.</p>
<p>For example, the default behavior for the &quot;between&quot; operator might produce this rule:</p>
<pre><code class="language-json" metastring="{4}">{
  &quot;field&quot;: &quot;f1&quot;,
  &quot;operator&quot;: &quot;between&quot;,
  &quot;value&quot;: &quot;f2,f3&quot;,
  &quot;valueSource&quot;: &quot;field&quot;
}
</code></pre>
<p>When <code>listsAsArrays</code> is true, the rule&#x27;s <code>value</code> will be an array:</p>
<pre><code class="language-json" metastring="{4}">{
  &quot;field&quot;: &quot;f1&quot;,
  &quot;operator&quot;: &quot;between&quot;,
  &quot;value&quot;: [&quot;f2&quot;, &quot;f3&quot;],
  &quot;valueSource&quot;: &quot;field&quot;
}
</code></pre>
<h3 id="independentcombinators"><code>independentCombinators</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#independentCombinators=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to insert an independent combinator selector between each rule/group in a rule group. The combinator selector at the group level will not be rendered.</p>
<p>Visually, this option has a similar effect as the <a href="#showcombinatorsbetweenrules"><code>showCombinatorsBetweenRules</code></a> option, except that each combinator selector is independently controlled. You may find that users take to this configuration more easily, as it can allow them to express queries more like they would in natural language.</p>
<admonition type="caution"><p>When the <code>independentCombinators</code> option is enabled, the <code>query</code> (or <code>defaultQuery</code>) prop <em>must</em> be of type <code>RuleGroupTypeIC</code> instead of the default <code>RuleGroupType</code>. See <a href="#onquerychange"><code>onQueryChange</code></a> above, or the <a href="../typescript#rules-and-groups">Rules and groups section</a> of the TypeScript documentation for more information.</p></admonition>
<h3 id="enabledraganddrop"><code>enableDragAndDrop</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#enableDragAndDrop=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to display a drag handle to the left of each group header and rule. Clicking and dragging the handle element allows visual reordering of rules and groups.</p>
<admonition type="caution"><p><code>react-querybuilder</code> uses <a href="https://react-dnd.github.io/react-dnd/"><code>react-dnd</code></a> to enable drag-and-drop features. If your application already uses <code>react-dnd</code>, you should import and render <code>&lt;QueryBuilderWithoutDndProvider /&gt;</code> instead of <code>&lt;QueryBuilder /&gt;</code>. They are functionally the same, but the former will rely on your pre-existing <code>DndProvider</code> wrapper while the latter implements its own and will clash with a separate <code>DndProvider</code> higher up in the component tree (the error will typically look like this: &quot;Cannot have two HTML5 backends at the same time.&quot;).</p></admonition>
<h3 id="disabled"><code>disabled</code></h3>
<p><code>boolean | number[][]</code> (default <code>false</code>) <em><a href="/demo#disabled=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to disable all subcomponents and prevent changes to the query. Pass an array of paths to disable specific rules and/or groups, e.g. <code>disabled={[[0]]}</code> will disable the first rule and its subcomponents but nothing else.</p>
<h3 id="debugmode"><code>debugMode</code></h3>
<p><code>boolean</code> (default <code>false</code>) <em><a href="/demo#debugMode=true">Click here for demo</a></em></p>
<p>Pass <code>true</code> to log debugging information to the console (or the <a href="#onlog"><code>onLog</code> function</a> if provided).</p>
<h3 id="onlog"><code>onLog</code></h3>
<p><code>(message: any) =&gt; void</code> (default <code>console.log</code>)</p>
<p>Captures log messages when <code>debugMode</code> is <code>true</code>.</p>
<h3 id="validator"><code>validator</code></h3>
<p><code>QueryValidator</code> <em><a href="/demo#validateQuery=true">Click here for demo</a></em></p>
<p>This is a callback function that is executed each time <code>QueryBuilder</code> renders. The return value should be a boolean (<code>true</code> for valid queries, <code>false</code> for invalid) or an object whose keys are the <code>id</code>s of each rule and group in the query tree. If such an object is returned, the values associated to each key should be a boolean (<code>true</code> for valid rules/groups, <code>false</code> for invalid) or an object with a <code>valid</code> boolean property and an optional <code>reasons</code> array. The full object will be passed to each rule and group component, and all sub-components of each rule/group will receive the value associated with the rule&#x27;s or group&#x27;s <code>id</code>. See the <a href="./validation">Validation</a> documentation for more information.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/react-querybuilder/react-querybuilder/edit/main/website/versioned_docs/version-4/api/querybuilder.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pbO5"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/4/category/api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/4/api/valueeditor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">&lt;ValueEditor /&gt;</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#props" class="table-of-contents__link toc-highlight">Props</a><ul><li><a href="#fields" class="table-of-contents__link toc-highlight"><code>fields</code></a></li><li><a href="#onquerychange" class="table-of-contents__link toc-highlight"><code>onQueryChange</code></a></li><li><a href="#query" class="table-of-contents__link toc-highlight"><code>query</code></a></li><li><a href="#defaultquery" class="table-of-contents__link toc-highlight"><code>defaultQuery</code></a></li><li><a href="#context" class="table-of-contents__link toc-highlight"><code>context</code></a></li><li><a href="#operators" class="table-of-contents__link toc-highlight"><code>operators</code></a></li><li><a href="#combinators" class="table-of-contents__link toc-highlight"><code>combinators</code></a></li><li><a href="#controlelements" class="table-of-contents__link toc-highlight"><code>controlElements</code></a></li><li><a href="#getoperators" class="table-of-contents__link toc-highlight"><code>getOperators</code></a></li><li><a href="#getvalueeditortype" class="table-of-contents__link toc-highlight"><code>getValueEditorType</code></a></li><li><a href="#getvaluesources" class="table-of-contents__link toc-highlight"><code>getValueSources</code></a></li><li><a href="#getinputtype" class="table-of-contents__link toc-highlight"><code>getInputType</code></a></li><li><a href="#getvalues" class="table-of-contents__link toc-highlight"><code>getValues</code></a></li><li><a href="#getdefaultfield" class="table-of-contents__link toc-highlight"><code>getDefaultField</code></a></li><li><a href="#getdefaultoperator" class="table-of-contents__link toc-highlight"><code>getDefaultOperator</code></a></li><li><a href="#getdefaultvalue" class="table-of-contents__link toc-highlight"><code>getDefaultValue</code></a></li><li><a href="#onaddrule" class="table-of-contents__link toc-highlight"><code>onAddRule</code></a></li><li><a href="#onaddgroup" class="table-of-contents__link toc-highlight"><code>onAddGroup</code></a></li><li><a href="#controlclassnames" class="table-of-contents__link toc-highlight"><code>controlClassnames</code></a></li><li><a href="#translations" class="table-of-contents__link toc-highlight"><code>translations</code></a></li><li><a href="#showcombinatorsbetweenrules" class="table-of-contents__link toc-highlight"><code>showCombinatorsBetweenRules</code></a></li><li><a href="#shownottoggle" class="table-of-contents__link toc-highlight"><code>showNotToggle</code></a></li><li><a href="#showclonebuttons" class="table-of-contents__link toc-highlight"><code>showCloneButtons</code></a></li><li><a href="#showlockbuttons" class="table-of-contents__link toc-highlight"><code>showLockButtons</code></a></li><li><a href="#resetonfieldchange" class="table-of-contents__link toc-highlight"><code>resetOnFieldChange</code></a></li><li><a href="#resetonoperatorchange" class="table-of-contents__link toc-highlight"><code>resetOnOperatorChange</code></a></li><li><a href="#enablemountquerychange" class="table-of-contents__link toc-highlight"><code>enableMountQueryChange</code></a></li><li><a href="#autoselectfield" class="table-of-contents__link toc-highlight"><code>autoSelectField</code></a></li><li><a href="#autoselectoperator" class="table-of-contents__link toc-highlight"><code>autoSelectOperator</code></a></li><li><a href="#addruletonewgroups" class="table-of-contents__link toc-highlight"><code>addRuleToNewGroups</code></a></li><li><a href="#listsasarrays" class="table-of-contents__link toc-highlight"><code>listsAsArrays</code></a></li><li><a href="#independentcombinators" class="table-of-contents__link toc-highlight"><code>independentCombinators</code></a></li><li><a href="#enabledraganddrop" class="table-of-contents__link toc-highlight"><code>enableDragAndDrop</code></a></li><li><a href="#disabled" class="table-of-contents__link toc-highlight"><code>disabled</code></a></li><li><a href="#debugmode" class="table-of-contents__link toc-highlight"><code>debugMode</code></a></li><li><a href="#onlog" class="table-of-contents__link toc-highlight"><code>onLog</code></a></li><li><a href="#validator" class="table-of-contents__link toc-highlight"><code>validator</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/components/querybuilder">Components</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/tips--tricks">Tips &amp; Tricks</a></li><li class="footer__item"><a class="footer__link-item" href="/demo">Showcase</a></li></ul></div><div class="col footer__col"><div class="footer__title">External</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/react-querybuilder/react-querybuilder" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/discord">Discord</a></li><li class="footer__item"><a href="https://www.npmjs.com/package/react-querybuilder" target="_blank" rel="noopener noreferrer" class="footer__link-item">npm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/jakeboone02" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support ‚ô•<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 React Query Builder authors. Built with Docusaurus.<br><br><a href="https://www.netlify.com"><img src="https://www.netlify.com/v3/img/components/netlify-dark.svg" alt="Deploys by Netlify"></a></div></div></div></footer></div>
</body>
</html>